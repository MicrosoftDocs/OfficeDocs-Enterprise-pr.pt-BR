---
title: Otimizar o desempenho de Web Parts em páginas de site moderno do SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 11/6/2019
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Priority
ms.collection:
- Ent_O365
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
ms.reviewer: sstewart
search.appverid:
- MET150
description: Aprenda a otimizar o desempenho de Web Parts em páginas de site moderno do SharePoint Online.
ms.openlocfilehash: 8ee8e932913ad8b75d6e68cecbd5d5da08bce76b
ms.sourcegitcommit: 99411927abdb40c2e82d2279489ba60545989bb1
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/07/2020
ms.locfileid: "41844822"
---
# <a name="optimize-web-part-performance-in-sharepoint-online-modern-site-pages"></a><span data-ttu-id="723b4-103">Otimizar o desempenho de Web Parts em páginas de site moderno do SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="723b4-103">Optimize web part performance in SharePoint Online modern site pages</span></span>

<span data-ttu-id="723b4-104">As páginas de site moderno do SharePoint Online contêm Web Parts que podem contribuir para os tempos totais de carregamento de página.</span><span class="sxs-lookup"><span data-stu-id="723b4-104">SharePoint Online modern site pages contain web parts that can contribute to overall page load times.</span></span> <span data-ttu-id="723b4-105">Este artigo ajudará você a entender como determinar de que modo as Web Parts em suas páginas afetam a latência percebida pelo usuário e como corrigir problemas comuns.</span><span class="sxs-lookup"><span data-stu-id="723b4-105">This article will help you understand how to determine how web parts in your pages affect user perceived latency, and how to remediate common issues.</span></span>

>[!NOTE]
><span data-ttu-id="723b4-106">Para obter mais informações sobre o desempenho dos portais modernos do SharePoint Online, confira [Desempenho na experiência moderna do SharePoint](https://docs.microsoft.com/sharepoint/modern-experience-performance).</span><span class="sxs-lookup"><span data-stu-id="723b4-106">For more information about performance in SharePoint Online modern portals, see [Performance in the modern SharePoint experience](https://docs.microsoft.com/sharepoint/modern-experience-performance).</span></span>

## <a name="use-the-page-diagnostics-for-sharepoint-tool-to-analyze-web-parts"></a><span data-ttu-id="723b4-107">Usar a ferramenta Diagnóstico de Página para SharePoint para analisar Web Parts</span><span class="sxs-lookup"><span data-stu-id="723b4-107">Use the Page Diagnostics for SharePoint tool to analyze web parts</span></span>

<span data-ttu-id="723b4-108">A **ferramenta Diagnóstico de Página para SharePoint** é uma extensão de navegador para o Chrome e o [Microsoft Edge versão 77 ou posterior](https://www.microsoftedgeinsider.com/download?form=MI13E8&OCID=MI13E8) que você pode usar para analisar as páginas de site de publicação moderno e clássico do SharePoint.</span><span class="sxs-lookup"><span data-stu-id="723b4-108">The **Page Diagnostics for SharePoint tool** is a browser extension for Chrome and [Microsoft Edge version 77 or later](https://www.microsoftedgeinsider.com/download?form=MI13E8&OCID=MI13E8) you can use to analyze SharePoint both modern and classic publishing site pages.</span></span> <span data-ttu-id="723b4-109">A ferramenta fornece um relatório para cada página analisada que mostra o desempenho da página em relação a um conjunto definido de critérios de desempenho.</span><span class="sxs-lookup"><span data-stu-id="723b4-109">The tool provides a report for each analyzed page showing how the page performs against a defined set of performance criteria.</span></span> <span data-ttu-id="723b4-110">Para instalar e saber mais sobre a ferramenta Diagnóstico de Página para SharePoint, acesse [Usar a ferramenta Diagnóstico de Página para SharePoint Online](page-diagnostics-for-spo.md).</span><span class="sxs-lookup"><span data-stu-id="723b4-110">To install and learn about the Page Diagnostics for SharePoint tool, visit [Use the Page Diagnostics tool for SharePoint Online](page-diagnostics-for-spo.md).</span></span>

<span data-ttu-id="723b4-111">Ao analisar uma página de site do SharePoint com a ferramenta Diagnóstico de Página para SharePoint, você pode ver informações sobre Web Parts que excedem a métrica de linha de base no resultado de **As Web Parts estão afetando o tempo de carregamento da página**, no painel _Testes de diagnóstico_.</span><span class="sxs-lookup"><span data-stu-id="723b4-111">When you analyze a SharePoint site page with the Page Diagnostics for SharePoint tool, you can see information about web parts that exceed the baseline metric in the **Web parts are impacting page load time** result in the _Diagnostic tests_ pane.</span></span>

<span data-ttu-id="723b4-112">Os resultados possíveis incluem:</span><span class="sxs-lookup"><span data-stu-id="723b4-112">Possible results include:</span></span>

- <span data-ttu-id="723b4-113">**Requer atenção** (vermelho): qualquer Web Part _personalizada_ que demora mais de **dois** segundos para ser carregada.</span><span class="sxs-lookup"><span data-stu-id="723b4-113">**Attention required** (red): Any _custom_ web part that takes longer than **two** seconds to load.</span></span> <span data-ttu-id="723b4-114">O tempo total de carregamento, conforme exibido nos resultados de teste, é dividido por carregamento do módulo, carga lenta, inicialização e renderização.</span><span class="sxs-lookup"><span data-stu-id="723b4-114">Total load time as displayed in test results is broken down by module load, lazy load, init and render.</span></span>
- <span data-ttu-id="723b4-115">**Oportunidades de melhoria** (amarelo): os itens que podem estar afetando o tempo de carregamento da página são mostrados nesta seção e devem ser examinados e monitorados.</span><span class="sxs-lookup"><span data-stu-id="723b4-115">**Improvement opportunities** (yellow): Items that may be impacting page load time are shown in this section and should be reviewed and monitored.</span></span> <span data-ttu-id="723b4-116">Isso pode incluir Web Parts OOTB (“prontas para uso”) da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="723b4-116">This may include "out of the box" (OOTB) Microsoft web parts.</span></span> <span data-ttu-id="723b4-117">Os resultados de todas as Web Parts da Microsoft mostradas nesta seção são automaticamente relatados à Microsoft, portanto, **nenhuma ação é necessária**.</span><span class="sxs-lookup"><span data-stu-id="723b4-117">Results for any Microsoft web parts shown in this section are automatically reported to Microsoft, so **no action is required**.</span></span> <span data-ttu-id="723b4-118">Você só precisará registrar um tíquete de suporte para investigação se estiver enfrentando um desempenho muito lento na página e **todas as Web Parts da Microsoft** na página aparecerem nos resultados na seção **Oportunidades de melhoria**.</span><span class="sxs-lookup"><span data-stu-id="723b4-118">You should only log a support ticket for investigation if you are experiencing very slow performance on the page and **all Microsoft web parts** on the page appear in the results in the **Improvement opportunities** section.</span></span> <span data-ttu-id="723b4-119">Uma atualização futura da ferramenta Diagnóstico de Página detalhará ainda mais os resultados com base na configuração específica da Web Part da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="723b4-119">Note that a future Page Diagnostics tool update will further break down the results based on the specific configuration of the Microsoft web part.</span></span>
- <span data-ttu-id="723b4-120">**Nenhuma ação necessária** (verde): nenhuma Web Part está demorando mais de **dois** segundos para retornar dados.</span><span class="sxs-lookup"><span data-stu-id="723b4-120">**No action required** (green): No web part is taking longer than **two** seconds to return data.</span></span>

<span data-ttu-id="723b4-121">Se o resultado de **As Web Parts estão afetando o tempo de carregamento da página** aparecer na seção **Requer atenção** ou **Oportunidades de melhoria**, clique no resultado para ver detalhes sobre quais Web Parts estão com carregamento lento.</span><span class="sxs-lookup"><span data-stu-id="723b4-121">If the **Web parts are impacting page load time** result appears in either the **Attention required** or **Improvement opportunities** section of the results, click the result to see details about which web parts are loading slowly.</span></span> <span data-ttu-id="723b4-122">Futuras atualizações da ferramenta Diagnóstico de Página para SharePoint podem incluir atualizações de regras de análise, portanto, garanta que você sempre tenha a versão mais recente da ferramenta.</span><span class="sxs-lookup"><span data-stu-id="723b4-122">Future updates to the Page Diagnostics for SharePoint tool may include updates to analysis rules, so please ensure you always have the latest version of the tool.</span></span>

![Resultados da ferramenta Diagnóstico de Página](media/modern-portal-optimization/pagediag-web-part.png)

<span data-ttu-id="723b4-124">As informações disponíveis nos resultados incluem:</span><span class="sxs-lookup"><span data-stu-id="723b4-124">Information available in the results includes:</span></span>

- <span data-ttu-id="723b4-125">**Feita por** mostra se a Web Part é personalizada ou OOTB da Microsoft</span><span class="sxs-lookup"><span data-stu-id="723b4-125">**Made by** shows whether the web part is custom or Microsoft OOTB</span></span>
- <span data-ttu-id="723b4-126">**Nome e ID** mostra informações de identificação que podem ajudar você a encontrar a Web Part na página</span><span class="sxs-lookup"><span data-stu-id="723b4-126">**Name and ID** shows identifying information that can help you find the web part on the page</span></span>
- <span data-ttu-id="723b4-127">**Total** mostra o tempo total de carregamento de Web Part</span><span class="sxs-lookup"><span data-stu-id="723b4-127">**Total** shows the total time for the web part to load</span></span>
- <span data-ttu-id="723b4-128">**Carregamento do Módulo** mostra o tempo gasto para buscar e carregar os componentes de Web Part</span><span class="sxs-lookup"><span data-stu-id="723b4-128">**Module Load** shows the time taken to fetch and load the web part components</span></span>
- <span data-ttu-id="723b4-129">**Carregamento Lento** mostra o tempo de carregamento adiado de Web Parts não exibido na seção principal da página</span><span class="sxs-lookup"><span data-stu-id="723b4-129">**Lazy Load** shows the time for deferred loading of web parts not seen in the main section of the page</span></span>
- <span data-ttu-id="723b4-130">**Inicialização** mostra o tempo gasto para a inicialização da Web Part</span><span class="sxs-lookup"><span data-stu-id="723b4-130">**Init** shows the time taken for web part initialization</span></span>
- <span data-ttu-id="723b4-131">**Renderização** mostra o tempo gasto para a Web Part buscar e renderizar resultados</span><span class="sxs-lookup"><span data-stu-id="723b4-131">**Render** shows the time taken for the web part to fetch and render results</span></span>

<span data-ttu-id="723b4-132">Essas informações são fornecidas para ajudar designers e desenvolvedores a solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="723b4-132">This information is provided to help designers and developers troubleshoot issues.</span></span> <span data-ttu-id="723b4-133">Elas devem ser encaminhadas à equipe de design e desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="723b4-133">This information should be provided to your design and development team.</span></span>

## <a name="remediate-web-part-performance-issues"></a><span data-ttu-id="723b4-134">Solucionar problemas de desempenho de Web Parts</span><span class="sxs-lookup"><span data-stu-id="723b4-134">Remediate web part performance issues</span></span>

<span data-ttu-id="723b4-135">Siga as orientações desta seção para identificar e corrigir problemas de desempenho com Web Parts indicados nos resultados de **As Web Parts estão afetando o tempo de carregamento da página**.</span><span class="sxs-lookup"><span data-stu-id="723b4-135">Follow the guidance in this section to identify and remediate performance issues with web parts listed in the **Web parts are impacting page load time** results.</span></span>

<span data-ttu-id="723b4-136">Há três categorias de possíveis causas do desempenho ruim de uma Web Part.</span><span class="sxs-lookup"><span data-stu-id="723b4-136">There are three categories of possible causes for poor web part performance.</span></span> <span data-ttu-id="723b4-137">Use as informações abaixo para determinar quais problemas se aplicam ao seu cenário e corrigi-los.</span><span class="sxs-lookup"><span data-stu-id="723b4-137">Use the information below to determine which issues apply to your scenario and remediate them.</span></span>

- <span data-ttu-id="723b4-138">Dependências e tamanho de script da Web Part</span><span class="sxs-lookup"><span data-stu-id="723b4-138">Web part script size and dependencies</span></span>
  - <span data-ttu-id="723b4-139">Otimize o script inicial que renderiza o cenário principal para _somente modo de exibição_.</span><span class="sxs-lookup"><span data-stu-id="723b4-139">Optimize the initial script that renders the mainline scenario for _view mode only_.</span></span>
  - <span data-ttu-id="723b4-140">Mova os cenários menos frequentes e o código do modo de edição (como o painel de propriedades) para partes separadas usando a instrução _ import()_.</span><span class="sxs-lookup"><span data-stu-id="723b4-140">Move the less frequent scenarios and edit mode code (like the property pane) to separate chunks using the _import()_ statement.</span></span>
  - <span data-ttu-id="723b4-141">Examine as dependências do arquivo _package.json_ para remover completamente qualquer código morto.</span><span class="sxs-lookup"><span data-stu-id="723b4-141">Review dependencies of the _package.json_ file to remove any dead code completely.</span></span> <span data-ttu-id="723b4-142">Mova todas as dependência apenas de teste/build para devDependencies.</span><span class="sxs-lookup"><span data-stu-id="723b4-142">Move any test/build only dependencies to devDependencies.</span></span>
  - <span data-ttu-id="723b4-143">É necessário usar a CDN do Office 365 para baixar o recurso estático ideal.</span><span class="sxs-lookup"><span data-stu-id="723b4-143">Use of the Office 365 CDN is required for optimal static resource download.</span></span> <span data-ttu-id="723b4-144">As origens da CDN pública são preferíveis para arquivos _js/css_.</span><span class="sxs-lookup"><span data-stu-id="723b4-144">Public CDN origins are preferable for _js/css_ files.</span></span> <span data-ttu-id="723b4-145">Para saber mais sobre como usar a CDN do Office 365, confira [Usar a CDN (Rede de Distribuição de Conteúdo) do Office 365 com o SharePoint Online](use-office-365-cdn-with-spo.md).</span><span class="sxs-lookup"><span data-stu-id="723b4-145">For more information about using the Office 365 CDN, see [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-office-365-cdn-with-spo.md).</span></span>
  - <span data-ttu-id="723b4-146">Reutilize estruturas como _importações do React_ e do _Fabric_, que vêm como parte da Estrutura do SharePoint (SPFx).</span><span class="sxs-lookup"><span data-stu-id="723b4-146">Reuse frameworks like _React_ and _Fabric imports_ that come as part of the SharePoint Framework (SPFx).</span></span> <span data-ttu-id="723b4-147">Para saber mais, confira [Visão geral da Estrutura do SharePoint](https://docs.microsoft.com/sharepoint/dev/spfx/sharepoint-framework-overview).</span><span class="sxs-lookup"><span data-stu-id="723b4-147">For more information, see [Overview of the SharePoint Framework](https://docs.microsoft.com/sharepoint/dev/spfx/sharepoint-framework-overview).</span></span>
  - <span data-ttu-id="723b4-148">Verifique se você está usando a versão mais recente da Estrutura do SharePoint e atualize para novas versões quando elas estiverem disponíveis.</span><span class="sxs-lookup"><span data-stu-id="723b4-148">Ensure that you are using the latest version of the SharePoint Framework, and upgrade to new versions as they become available.</span></span>
- <span data-ttu-id="723b4-149">Busca/cache de dados</span><span class="sxs-lookup"><span data-stu-id="723b4-149">Data fetching/caching</span></span>
  - <span data-ttu-id="723b4-150">Se a Web Part contar com chamadas adicionais do servidor para buscar dados para exibição, verifique se as APIs do servidor são rápidas e/ou implemente cache do lado do cliente (por exemplo, use _localStorage_ ou _IndexDB_ para conjuntos maiores).</span><span class="sxs-lookup"><span data-stu-id="723b4-150">If the web part relies on extra server calls to fetch data for display, ensure those server APIs are fast and/or implement client side caching (such as using _localStorage_ or _IndexDB_ for larger sets).</span></span>
  - <span data-ttu-id="723b4-151">Se várias chamadas forem necessárias para renderizar dados críticos, considere o uso de envio em lote no servidor ou de outros métodos de consolidação de solicitações em uma única chamada.</span><span class="sxs-lookup"><span data-stu-id="723b4-151">If multiple calls are required to render critical data, consider batching on the server or other methods of consolidating requests to a single call.</span></span>
  - <span data-ttu-id="723b4-152">Como alternativa, se alguns elementos de dados exigirem uma API mais lenta, mas não forem críticos para a renderização inicial, separe-os em outra chamada, executada após a renderização dos dados críticos.</span><span class="sxs-lookup"><span data-stu-id="723b4-152">Alternatively, if some elements of data require a slower API, but are not critical to initial rendering, decouple these to a separate call that is executed after critical data is rendered.</span></span>
  - <span data-ttu-id="723b4-153">Se várias partes usarem os mesmos dados, utilize uma camada de dados comum para evitar chamadas duplicadas.</span><span class="sxs-lookup"><span data-stu-id="723b4-153">If multiple parts use the same data, utilize a common data layer to avoid duplicate calls.</span></span>
- <span data-ttu-id="723b4-154">Tempo de renderização</span><span class="sxs-lookup"><span data-stu-id="723b4-154">Rendering time</span></span>
  - <span data-ttu-id="723b4-155">Quaisquer fontes de mídia, como imagens e vídeos, devem ser dimensionadas de acordo com os limites do contêiner, dispositivo e/ou rede para evitar o download de grandes recursos desnecessários.</span><span class="sxs-lookup"><span data-stu-id="723b4-155">Any media sources like images and videos should be sized to the limits of the container, device and/or network to avoid downloading unnecessary large assets.</span></span> <span data-ttu-id="723b4-156">Para saber mais sobre como usar dependências de conteúdo, confira [Usar a CDN (Rede de Distribuição de Conteúdo) do Office 365 com o SharePoint Online](use-office-365-cdn-with-spo.md).</span><span class="sxs-lookup"><span data-stu-id="723b4-156">For more information about content dependencies, see [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-office-365-cdn-with-spo.md).</span></span>
  - <span data-ttu-id="723b4-157">Evite chamadas de API que causem refluxo, regras CSS complexas ou animações complicadas.</span><span class="sxs-lookup"><span data-stu-id="723b4-157">Avoid API calls that cause re-flow, complex CSS rules or complicated animations.</span></span> <span data-ttu-id="723b4-158">Para obter mais informações, confira [Minimizar o refluxo do navegador](https://developers.google.com/speed/docs/insights/browser-reflow).</span><span class="sxs-lookup"><span data-stu-id="723b4-158">For more information, see [Minimizing browser reflow](https://developers.google.com/speed/docs/insights/browser-reflow).</span></span>
  - <span data-ttu-id="723b4-159">Evite o uso de tarefas de longa execução encadeadas.</span><span class="sxs-lookup"><span data-stu-id="723b4-159">Avoid use of chained long running tasks.</span></span> <span data-ttu-id="723b4-160">Em vez disso, divida as tarefas de longa execução em filas separadas.</span><span class="sxs-lookup"><span data-stu-id="723b4-160">Instead, break long running tasks apart into separate queues.</span></span> <span data-ttu-id="723b4-161">Para obter mais informações, confira [Otimizar a execução do JavaScript](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).</span><span class="sxs-lookup"><span data-stu-id="723b4-161">For more information, see [Optimize JavaScript Execution](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).</span></span>
  - <span data-ttu-id="723b4-162">Reserve o espaço correspondente para renderizar de forma assíncrona mídia ou elementos visuais, a fim de evitar quadros ignorados e instabilidade (também conhecida como _jank_).</span><span class="sxs-lookup"><span data-stu-id="723b4-162">Reserve corresponding space for asynchronously rendering media or visual elements to avoid skipped frames and stuttering (also known as _jank_).</span></span>
  - <span data-ttu-id="723b4-163">Se determinado navegador não oferecer suporte a um recurso usado na renderização, carregue um polyfill ou exclua o código dependente em execução.</span><span class="sxs-lookup"><span data-stu-id="723b4-163">If a certain browser doesn't support a feature used in rendering, either load a polyfill or exclude running dependent code.</span></span> <span data-ttu-id="723b4-164">Se o recurso não for crítico, descarte recursos como manipuladores de eventos para evitar vazamentos de memória.</span><span class="sxs-lookup"><span data-stu-id="723b4-164">If the feature is not critical, dispose resources such as event handlers to avoid memory leaks.</span></span>

<span data-ttu-id="723b4-165">Antes de fazer as revisões das páginas para corrigir problemas de desempenho, anote o tempo de carregamento da página nos resultados da análise.</span><span class="sxs-lookup"><span data-stu-id="723b4-165">Before you make page revisions to remediate performance issues, make a note of the page load time in the analysis results.</span></span> <span data-ttu-id="723b4-166">Execute a ferramenta novamente após a revisão para ver se o novo resultado está dentro do padrão da linha de base e verifique o tempo de carregamento da nova página para ver se melhorou.</span><span class="sxs-lookup"><span data-stu-id="723b4-166">Run the tool again after your revision to see if the new result is within the baseline standard, and check the new page load time to see if there was an improvement.</span></span>

![Resultados do tempo de carregamento da página](media/modern-portal-optimization/pagediag-page-load-time.png)

>[!NOTE]
><span data-ttu-id="723b4-168">O tempo de carregamento da página pode variar de acordo com vários fatores, como a carga da rede, hora do dia e outras condições transitórias.</span><span class="sxs-lookup"><span data-stu-id="723b4-168">Page load time can vary based on a variety of factors such as network load, time of day, and other transient conditions.</span></span> <span data-ttu-id="723b4-169">Você deve testar o tempo de carregamento da página algumas vezes antes e depois de fazer as alterações para ajudá-lo a calcular uma média dos resultados.</span><span class="sxs-lookup"><span data-stu-id="723b4-169">You should test page load time a few times before and after making changes to help you average the results.</span></span>

## <a name="related-topics"></a><span data-ttu-id="723b4-170">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="723b4-170">Related topics</span></span>

[<span data-ttu-id="723b4-171">Ajustar o desempenho do SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="723b4-171">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="723b4-172">Ajustar o desempenho do Office 365</span><span class="sxs-lookup"><span data-stu-id="723b4-172">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="723b4-173">Desempenho na experiência moderna do SharePoint</span><span class="sxs-lookup"><span data-stu-id="723b4-173">Performance in the modern SharePoint experience</span></span>](https://docs.microsoft.com/sharepoint/modern-experience-performance)

[<span data-ttu-id="723b4-174">Redes de distribuição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="723b4-174">Content delivery networks</span></span>](content-delivery-networks.md)

[<span data-ttu-id="723b4-175">Usar a Rede de Distribuição de Conteúdo (CDN) do Office 365 com o SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="723b4-175">Use the Office 365 Content Delivery Network (CDN) with SharePoint Online</span></span>](use-office-365-cdn-with-spo.md)
