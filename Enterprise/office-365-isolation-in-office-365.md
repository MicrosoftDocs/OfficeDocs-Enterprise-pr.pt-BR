---
title: Controle de acesso e isolamento do Office 365 no Office 365
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- SPO_Content
description: 'Resumo: uma explicação do isolamento e controle de acesso dentro dos vários aplicativos do Office 365.'
ms.openlocfilehash: 5855828faafaf12e609e93a1a4f0ec7419e0a9d6
ms.sourcegitcommit: 89ecf793443963b4c87cf1033bf0284cbfb83d9a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/09/2019
ms.locfileid: "38078160"
---
# <a name="isolation-and-access-control-in-office-365"></a><span data-ttu-id="f4b8a-103">Isolamento e controle de acesso no Office 365</span><span class="sxs-lookup"><span data-stu-id="f4b8a-103">Isolation and Access Control in Office 365</span></span>

<span data-ttu-id="f4b8a-104">O Azure Active Directory e o Office 365 usam um modelo de dados altamente complexo que inclui dezenas de serviços, centenas de entidades, milhares de relações e dezenas de milhares de atributos.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-104">Azure Active Directory and Office 365 use a highly complex data model that includes tens of services, hundreds of entities, thousands of relationships, and tens of thousands of attributes.</span></span> <span data-ttu-id="f4b8a-105">Em um nível alto, o Azure Active Directory e os diretórios de serviço são os contêineres de locatários e destinatários mantidos em sincronia usando protocolos de replicação baseados em estado.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-105">At a high level, Azure Active Directory and the service directories are the containers of tenants and recipients kept in sync using state-based replication protocols.</span></span> <span data-ttu-id="f4b8a-106">Além das informações de diretório mantidas no Azure Active Directory, cada uma das cargas de trabalho de serviço tem sua própria infraestrutura de serviços de diretório.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-106">In addition to the directory information held within Azure Active Directory, each of the service workloads have their own directory services infrastructure.</span></span>
 
![Sincronização de dados do locatário do Office 365](media/office-365-isolation-tenant-data-sync.png)

<span data-ttu-id="f4b8a-108">Dentro desse modelo, não há uma única fonte de dados de diretório.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-108">Within this model, there is no single source of directory data.</span></span> <span data-ttu-id="f4b8a-109">Sistemas específicos possuem partes individuais de dados, mas nenhum sistema único armazena todos os dados.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-109">Specific systems own individual pieces of data, but no single system holds all the data.</span></span> <span data-ttu-id="f4b8a-110">Os serviços do Office 365 cooperar com o Azure Active Directory neste modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-110">Office 365 services cooperate with Azure Active Directory in this data model.</span></span> <span data-ttu-id="f4b8a-111">O Azure Active Directory é o "sistema de verdade" para dados compartilhados, que normalmente são pequenos e estáticos usados por todos os serviços.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-111">Azure Active Directory is the "system of truth" for shared data, which is typically small and static data used by every service.</span></span> <span data-ttu-id="f4b8a-112">O modelo federado usado no Office 365 e no Azure Active Directory fornece a exibição compartilhada dos dados.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-112">The federated model used within Office 365 and Azure Active Directory provides the shared view of the data.</span></span>

<span data-ttu-id="f4b8a-113">O Office 365 usa o armazenamento físico e o armazenamento em nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-113">Office 365 uses both physical storage and Azure cloud storage.</span></span> <span data-ttu-id="f4b8a-114">O Exchange Online (incluindo o Exchange Online Protection) e o Skype for Business usam seu próprio armazenamento para dados do cliente.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-114">Exchange Online (including Exchange Online Protection) and Skype for Business use their own storage for customer data.</span></span> <span data-ttu-id="f4b8a-115">O SharePoint Online usa o armazenamento do SQL Server e o armazenamento do Azure, portanto, a necessidade de isolamento adicional dos dados do cliente no nível de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-115">SharePoint Online uses both SQL Server storage and Azure Storage, hence the need for additional isolation of customer data at the storage level.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="f4b8a-116">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="f4b8a-116">Exchange Online</span></span>

<span data-ttu-id="f4b8a-117">O Exchange Online armazena dados do cliente em caixas de correio.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-117">Exchange Online stores customer data within mailboxes.</span></span> <span data-ttu-id="f4b8a-118">As caixas de correio são hospedadas em bancos de dados ESE (Extensible Storage Engine) chamados de bancos de dados de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-118">Mailboxes are hosted within Extensible Storage Engine (ESE) databases called mailbox databases.</span></span> <span data-ttu-id="f4b8a-119">Isso inclui caixas de correio de usuário, caixas de correio vinculadas, caixas de correio compartilhadas e caixas de correio de pasta pública.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-119">This includes user mailboxes, linked mailboxes, shared mailboxes, and public folder mailboxes.</span></span> <span data-ttu-id="f4b8a-120">As caixas de correio de usuários incluem o conteúdo salvo do Skype for Business, como históricos de conversas.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-120">User mailboxes include saved Skype for Business content, such as conversation histories.</span></span>

<span data-ttu-id="f4b8a-121">O conteúdo da caixa de correio do usuário inclui:</span><span class="sxs-lookup"><span data-stu-id="f4b8a-121">User mailbox content includes:</span></span>

- <span data-ttu-id="f4b8a-122">Emails e anexos de email</span><span class="sxs-lookup"><span data-stu-id="f4b8a-122">Emails and email attachments</span></span>
- <span data-ttu-id="f4b8a-123">Informações de calendário e disponibilidade</span><span class="sxs-lookup"><span data-stu-id="f4b8a-123">Calendaring and free/busy information</span></span>
- <span data-ttu-id="f4b8a-124">Contatos</span><span class="sxs-lookup"><span data-stu-id="f4b8a-124">Contacts</span></span>
- <span data-ttu-id="f4b8a-125">Tarefas</span><span class="sxs-lookup"><span data-stu-id="f4b8a-125">Tasks</span></span>
- <span data-ttu-id="f4b8a-126">Observações</span><span class="sxs-lookup"><span data-stu-id="f4b8a-126">Notes</span></span>
- <span data-ttu-id="f4b8a-127">Grupos</span><span class="sxs-lookup"><span data-stu-id="f4b8a-127">Groups</span></span>
- <span data-ttu-id="f4b8a-128">Dados de inferência</span><span class="sxs-lookup"><span data-stu-id="f4b8a-128">Inference data</span></span>

<span data-ttu-id="f4b8a-129">Cada banco de dados de caixa de correio no Exchange Online contém caixas de correio de vários locatários.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-129">Each mailbox database within Exchange Online contains mailboxes from multiple tenants.</span></span> <span data-ttu-id="f4b8a-130">Um código de autorização protege cada caixa de correio, incluindo dentro de uma locação.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-130">An authorization code secures each mailbox, including within a tenancy.</span></span> <span data-ttu-id="f4b8a-131">Por padrão, somente o usuário atribuído tem acesso a uma caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-131">By default, only the assigned user has access to a mailbox.</span></span> <span data-ttu-id="f4b8a-132">A lista de controle de acesso (ACL) que protege uma caixa de correio contém uma identidade autenticada pelo Azure Active Directory no nível do locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-132">The access control list (ACL) that secures a mailbox contains an identity authenticated by Azure Active Directory at the tenant level.</span></span> <span data-ttu-id="f4b8a-133">As caixas de correio de cada locatário estão limitadas às identidades autenticadas no provedor de autenticação do locatário, que inclui apenas os usuários desse locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-133">The mailboxes for each tenant are limited to identities authenticated against the tenant's authentication provider, which includes only users from that tenant.</span></span> <span data-ttu-id="f4b8a-134">O conteúdo no locatário A não pode ser obtido por usuários no locatário B, a menos que explicitamente aprovado pelo locatário A.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-134">Content in tenant A cannot in any way be obtained by users in tenant B, unless explicitly approved by tenant A.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="f4b8a-135">Skype for Business</span><span class="sxs-lookup"><span data-stu-id="f4b8a-135">Skype for Business</span></span>

<span data-ttu-id="f4b8a-136">O Skype for Business armazena dados em vários locais:</span><span class="sxs-lookup"><span data-stu-id="f4b8a-136">Skype for Business stores data in various places:</span></span>

- <span data-ttu-id="f4b8a-137">As informações de usuário e conta, que incluem pontos de extremidade de conexão, IDs de locatário, planos de discagem, configurações de roaming, estado de presença, listas de contatos, etc., são armazenadas nos servidores do Active Directory do Skype for Business e em vários servidores de banco de dados do Skype for Business.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-137">User and account information, which includes connection endpoints, tenant IDs, dial plans, roaming settings, presence state, contact lists, etc., is stored in the Skype for Business Active Directory servers, and in various Skype for Business database servers.</span></span> <span data-ttu-id="f4b8a-138">As listas de contatos são armazenadas na caixa de correio do Exchange Online do usuário se o usuário estiver habilitado para ambos os produtos ou nos servidores do Skype for Business se o usuário não for.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-138">Contact lists are stored in the user's Exchange Online mailbox if the user is enabled for both products, or on Skype for Business servers if the user is not.</span></span> <span data-ttu-id="f4b8a-139">Os servidores de banco de dados do Skype for Business não são particionados por locatário, mas o isolamento de vários associados é imposto por meio do controle de acesso baseado em função (RBAC).</span><span class="sxs-lookup"><span data-stu-id="f4b8a-139">Skype for Business database servers are not partitioned per-tenant, but multi-tenancy isolation of data is enforced through role-based access control (RBAC).</span></span>
- <span data-ttu-id="f4b8a-140">O conteúdo da reunião e os dados carregados são armazenados em compartilhamentos do sistema de arquivos distribuídos (DFS).</span><span class="sxs-lookup"><span data-stu-id="f4b8a-140">Meeting content and uploaded data is stored on Distributed File System (DFS) shares.</span></span> <span data-ttu-id="f4b8a-141">Esse conteúdo também pode ser arquivado no Exchange Online, se estiver habilitado.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-141">This content can also be archived in Exchange Online if enabled.</span></span> <span data-ttu-id="f4b8a-142">Os compartilhamentos DFS não são particionados por locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-142">The DFS shares are not partitioned per-tenant.</span></span> <span data-ttu-id="f4b8a-143">o conteúdo é protegido com ACLs e a multilocação é imposta por meio de RBAC.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-143">the content is secured with ACLs and multi-tenancy is enforced through RBAC.</span></span>
- <span data-ttu-id="f4b8a-144">Os registros de detalhes da chamada, que são o histórico de atividades, como histórico de chamadas, sessões de IM, compartilhamento de aplicativos, histórico de IM, etc., também podem ser armazenados no Exchange Online, mas a maioria dos registros de detalhes das chamadas são temporariamente armazenados em servidores de CDR (registro de detalhes de chamadas).</span><span class="sxs-lookup"><span data-stu-id="f4b8a-144">Call detail records, which are the activity history, such as call history, IM sessions, application sharing, IM history, etc., can also be stored in Exchange Online, but most call detail records are temporarily stored on call detail record (CDR) servers.</span></span> <span data-ttu-id="f4b8a-145">O conteúdo não é particionado por locatário, mas a multilocação é imposta por meio de RBAC.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-145">Content is not partitioned per tenant, but multi-tenancy is enforced through RBAC.</span></span>

## <a name="sharepoint-online"></a><span data-ttu-id="f4b8a-146">SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="f4b8a-146">SharePoint Online</span></span>

<span data-ttu-id="f4b8a-147">O SharePoint Online tem vários mecanismos independentes que oferecem isolamento de dados.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-147">SharePoint Online has several independent mechanisms that provide data isolation.</span></span> <span data-ttu-id="f4b8a-148">Ele armazena objetos como código abstrato em bancos de dados de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-148">It stores objects as abstracted code within application databases.</span></span> <span data-ttu-id="f4b8a-149">Por exemplo, quando um usuário carrega um arquivo para o SharePoint Online, o arquivo é desmontado, convertido em código do aplicativo e armazenado em várias tabelas em vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-149">For example, when a user uploads a file to SharePoint Online, the file is disassembled, translated into application code, and stored in multiple tables across multiple databases.</span></span>

<span data-ttu-id="f4b8a-150">Se um usuário puder obter acesso direto ao armazenamento que contém os dados, o conteúdo não poderá ser interpretado por um humano ou qualquer sistema que não seja o SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-150">If a user could gain direct access to the storage containing the data, the content is not interpretable to a human or any system other than SharePoint Online.</span></span> <span data-ttu-id="f4b8a-151">Esses mecanismos incluem controle de acesso de segurança e propriedades.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-151">These mechanisms include security access control and properties.</span></span> <span data-ttu-id="f4b8a-152">Todos os recursos do SharePoint Online são protegidos pelo código de autorização e pela política RBAC, incluindo dentro de um locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-152">All SharePoint Online resources are secured by the authorization code and RBAC policy, including within a tenancy.</span></span> <span data-ttu-id="f4b8a-153">A lista de controle de acesso (ACL) que protege um recurso contém uma identidade autenticada no nível do locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-153">The access control list (ACL) that secures a resource contains an identity authenticated at the tenant level.</span></span> <span data-ttu-id="f4b8a-154">Os dados do SharePoint Online para um locatário são limitados às identidades autenticadas pelo provedor de autenticação para o locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-154">SharePoint Online data for a tenant is limited to identities authenticated by the authentication provider for the tenant.</span></span>

<span data-ttu-id="f4b8a-155">Além das ACLs, uma propriedade de nível de locatário que especifica o provedor de autenticação (que é o Azure Active Directory específico do locatário), é gravada uma vez e não pode ser alterada depois de definida.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-155">In addition to the ACLs, a tenant level property that specifies the authentication provider (which is the tenant-specific Azure Active Directory), is written once and cannot be changed once set.</span></span> <span data-ttu-id="f4b8a-156">Depois que a propriedade locatário do provedor de autenticação tiver sido definida para um locatário, ela não poderá ser alterada usando as APIs expostas a um locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-156">Once the authentication provider tenant property has been set for a tenant, it cannot be changed using any APIs exposed to a tenant.</span></span>

<span data-ttu-id="f4b8a-157">Um *SubscriptionId* exclusivo é usado para cada locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-157">A unique *SubscriptionId* is used for each tenant.</span></span> <span data-ttu-id="f4b8a-158">Todos os sites de clientes pertencem a um locatário e recebem uma *assinatura* exclusiva para o locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-158">All customer sites are owned by a tenant and assigned a *SubscriptionId* unique to the tenant.</span></span> <span data-ttu-id="f4b8a-159">A propriedade *SubscriptionId* em um site é escrita uma vez e é permanente.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-159">The *SubscriptionId* property on a site is written once and is permanent.</span></span> <span data-ttu-id="f4b8a-160">Uma vez atribuída a um locatário, um site não pode ser movido para outro locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-160">Once assigned to a tenant, a site cannot be moved to a different tenant.</span></span> <span data-ttu-id="f4b8a-161">*SubscriptionId* é a chave usada para criar o escopo de segurança para o provedor de autenticação e está vinculada ao locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-161">The *SubscriptionId* is the key used to create the security scope for the authentication provider and is tied to the tenant.</span></span>

<span data-ttu-id="f4b8a-162">O SharePoint Online usa o SQL Server e o armazenamento do Azure para armazenamento de metadados de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-162">SharePoint Online uses SQL Server and Azure Storage for content metadata storage.</span></span> <span data-ttu-id="f4b8a-163">A chave de partição para o repositório de conteúdo é *SiteId* no SQL.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-163">The partition key for the content store is *SiteId* in SQL.</span></span> <span data-ttu-id="f4b8a-164">Ao executar uma consulta SQL, o SharePoint Online usa um *SiteId* verificado como parte de uma verificação de *SubscriptionId* no nível do locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-164">When running a SQL query, SharePoint Online uses a *SiteId* verified as part of a tenant-level *SubscriptionId* check.</span></span>

<span data-ttu-id="f4b8a-165">O SharePoint Online armazena conteúdo de arquivo criptografado em BLOBs do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-165">SharePoint Online stores encrypted file content in Microsoft Azure blobs.</span></span> <span data-ttu-id="f4b8a-166">Cada farm do SharePoint Online tem sua própria conta do Microsoft Azure e todos os BLOBs salvos no Azure são criptografados individualmente com uma chave armazenada no repositório de conteúdo do SQL.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-166">Each SharePoint Online farm has its own Microsoft Azure account and all the blobs saved in Azure are encrypted individually with a key stored in the SQL content store.</span></span> <span data-ttu-id="f4b8a-167">A chave de criptografia protegida no código pela camada de autorização e não exposta diretamente ao usuário final.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-167">The encryption key protected in code by the authorization layer and not exposed directly to the end user.</span></span> <span data-ttu-id="f4b8a-168">O SharePoint Online tem monitoramento em tempo real para detectar quando uma solicitação HTTP lê ou grava dados para mais de um locatário.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-168">SharePoint Online has real-time monitoring to detect when an HTTP request reads or writes data for more than one tenant.</span></span> <span data-ttu-id="f4b8a-169">A identidade da solicitação *SubscriptionId* é controlada em relação à *SubscriptionId* do recurso acessado.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-169">The request identity *SubscriptionId* is tracked against the *SubscriptionId* of the accessed resource.</span></span> <span data-ttu-id="f4b8a-170">As solicitações para acessar recursos de mais de um locatário nunca devem acontecer por usuários finais.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-170">Requests to access resources of more than one tenant should never happen by end users.</span></span> <span data-ttu-id="f4b8a-171">As solicitações de serviço em um ambiente de vários locatários são a única exceção.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-171">Service requests in a multi-tenant environment are the only exception.</span></span> <span data-ttu-id="f4b8a-172">Por exemplo, o rastreador de pesquisa recebe alterações de conteúdo para todo o banco de dados de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-172">For example, the search crawler pulls content changes for an entire database all at once.</span></span> <span data-ttu-id="f4b8a-173">Isso geralmente envolve a consulta de sites de mais de um locatário em uma única solicitação de serviço, que é feita por motivos de eficiência.</span><span class="sxs-lookup"><span data-stu-id="f4b8a-173">This usually involves querying sites of more than one tenant in a single service request, which is done for efficiency reasons.</span></span>
