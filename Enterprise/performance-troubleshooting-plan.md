---
title: Plano de solução de problemas de desempenho do Office 365
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 4/26/2017
ms.audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
description: Você precisa saber as etapas a serem executadas para identificar e corrigir lento, cai e desempenho lento entre o SharePoint Online, o OneDrive for Business, o Exchange Online ou Skype para Business Online e o computador cliente? Antes de chamar suporte, este artigo pode ajudá-lo a solucionar problemas de desempenho do Office 365 e até mesmo corrigir alguns dos problemas mais comuns.
ms.openlocfilehash: 0e588d35ff6caaa0796092bb2f964bced15f4e47
ms.sourcegitcommit: 82219b5f8038ae066405dfb7933c40bd1f598bd0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/14/2018
ms.locfileid: "23975179"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="ec4e2-104">Plano de solução de problemas de desempenho do Office 365</span><span class="sxs-lookup"><span data-stu-id="ec4e2-104">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="ec4e2-p102">Você precisa saber as etapas a serem executadas para identificar e corrigir lento, cai e desempenho lento entre o SharePoint Online, o OneDrive for Business, o Exchange Online ou Skype para Business Online e o computador cliente? Antes de chamar suporte, este artigo pode ajudá-lo a solucionar problemas de desempenho do Office 365 e até mesmo corrigir alguns dos problemas mais comuns.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p102">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer? Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>
  
<span data-ttu-id="ec4e2-p103">Este artigo é realmente um plano de ação de amostra que você pode usar para capturar dados valiosos sobre o seu problema de desempenho, como está ocorrendo. Alguns principais problemas também são incluídos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p103">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening. Some top issues are also included in this article.</span></span>
    
<span data-ttu-id="ec4e2-109">Se estiver familiarizado com o desempenho da rede e deseja fazer um planejamento de longo prazo para monitorar o desempenho entre computadores clientes e o Office 365, dê uma olhada no [ajuste de desempenho do Office 365 e solução de problemas - Admin e profissionais de TI](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-109">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>
  
## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="ec4e2-110">Plano de ação para solução de problemas de desempenho de amostra</span><span class="sxs-lookup"><span data-stu-id="ec4e2-110">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="ec4e2-p104">Este plano de ação contém duas partes; uma fase de preparação e uma fase de registro em log. Se você tiver um problema de desempenho conveniente e você precisará fazer a coleta de dados, você pode iniciar usando este plano imediatamente.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p104">This action plan contains two parts; a preparation phase, and a logging phase. If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>
  
 <span data-ttu-id="ec4e2-113">**Preparar o computador cliente**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-113">**Prepare the client computer**</span></span>
  
- <span data-ttu-id="ec4e2-p105">Encontre um computador cliente que pode reproduzir o problema de desempenho. Este computador será usado durante o curso de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p105">Find a client computer that can reproduce the performance problem. This computer will be used during the course of troubleshooting.</span></span>
    
- <span data-ttu-id="ec4e2-116">Anote as etapas que causar o problema de desempenho aconteça, portanto você está pronto quando chega o momento para testar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-116">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
    
- <span data-ttu-id="ec4e2-117">Instale as ferramentas para coletar e registrar informações:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-117">Install tools for gathering and recording information:</span></span>
    
  - <span data-ttu-id="ec4e2-118">Instale o [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (ou usar uma ferramenta de rastreamento de rede equivalente).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-118">Install [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span> 
    
  - <span data-ttu-id="ec4e2-119">Instale a edição de básica gratuita do [HTTPWatch](https://www.httpwatch.com/download/) (ou usar uma ferramenta de rastreamento de rede equivalente).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-119">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span> 
    
  - <span data-ttu-id="ec4e2-120">Use um gravador de tela ou execute o gravador de etapas (PSR.exe) que vem com o Windows Vista e posterior, para manter um registro das etapas executadas durante o teste.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-120">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>
    
 <span data-ttu-id="ec4e2-121">**Problema de desempenho de log**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-121">**Log the performance issue**</span></span>
  
- <span data-ttu-id="ec4e2-122">Feche todos os navegadores da Internet não essenciais.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-122">Close all extraneous Internet browsers.</span></span>
    
- <span data-ttu-id="ec4e2-123">Inicie o gravador de etapas ou outro gravador de tela.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-123">Start the Steps Recorder, or another screen recorder.</span></span>
    
- <span data-ttu-id="ec4e2-124">Inicie seu Netmon captura (ou a ferramenta de rastreamento de rede).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-124">Start your Netmon capture (or network tracing tool).</span></span>
    
- <span data-ttu-id="ec4e2-125">Limpe o cache DNS no computador cliente da linha de comando, digitando ipconfig /flushdns.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-125">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
    
- <span data-ttu-id="ec4e2-126">Iniciar uma nova sessão do navegador e ligue HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-126">Start a new browser session and turn on HTTPWatch.</span></span>
    
- <span data-ttu-id="ec4e2-127">Opcional: Se você estiver testando o Exchange Online, execute a ferramenta Analisador de desempenho de cliente do Exchange no console de administração do Office 365.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-127">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
    
- <span data-ttu-id="ec4e2-128">Reproduza as etapas exatas que causam o problema de desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-128">Reproduce the exact steps that cause the performance issue.</span></span>
    
- <span data-ttu-id="ec4e2-129">Pare o Netmon ou rastreamento da outra ferramenta.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-129">Stop your Netmon or other tool's trace.</span></span>
    
- <span data-ttu-id="ec4e2-130">Na linha de comando, execute uma rota de rastreamento à sua assinatura do Office 365 digitando o seguinte comando e pressionando ENTER:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-130">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>
    
    `tracert \< *subscriptionname*  \>.onmicrosoft.com` 
    
- <span data-ttu-id="ec4e2-p106">Pare o gravador de etapas e salvar o vídeo. Certifique-se de incluir a data e hora da captura e se ele demostra o desempenho BOM ou ruim.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p106">Stop the Steps Recorder and save the video. Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
- <span data-ttu-id="ec4e2-p107">Salve os arquivos de rastreamento. Novamente, certifique-se de incluir a data e hora da captura e se ele demostra o desempenho BOM ou ruim.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p107">Save the trace files. Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
<span data-ttu-id="ec4e2-p108">Se você não estiver familiarizado com executando as ferramentas mencionadas neste artigo, não se preocupe porque fornecemos essas etapas em seguida. Se você estiver acostumados fazer esse tipo de rede capturando, poderá ignorar [como coletar as linhas de base](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), que descreve a filtragem e os logs de leitura.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p108">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next. If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span> 
  
## <a name="flush-the-dns-cache-first"></a><span data-ttu-id="ec4e2-137">Liberar o Cache de DNS primeiro</span><span class="sxs-lookup"><span data-stu-id="ec4e2-137">Flush the DNS Cache first</span></span>

<span data-ttu-id="ec4e2-p109">Por quê? Por liberação o cache de DNS, você está iniciando seus testes com uma área limpa. Limpando o cache, você está redefinindo o conteúdo de resolvedor DNS às entradas mais atualizadas. Lembre-se de que um flush não remove entradas do arquivo de HOSTs. Se você usar entradas do arquivo HOST extensivamente, você deve copiar essas entradas check-out para um arquivo em outro diretório e, em seguida, esvaziar o arquivo HOST.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p109">Why? By flushing out the DNS cache you're starting your tests with a clean slate. By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries. Remember that a flush does not remove HOSTs file entries. If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>
  
 <span data-ttu-id="ec4e2-143">**Liberar o cache de resolução DNS**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-143">**Flush your DNS resolver cache**</span></span>
  
1. <span data-ttu-id="ec4e2-144">Abra o prompt de comando (qualquer **Iniciar** \> **Executar** \> **cmd** ou a **tecla Windows** \> **cmd**).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-144">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
    
2. <span data-ttu-id="ec4e2-145">Digite o seguinte comando e pressione ENTER:`ipconfig /flushdns`</span><span class="sxs-lookup"><span data-stu-id="ec4e2-145">Type the following command and press ENTER: `ipconfig /flushdns`</span></span>
    
## <a name="netmon"></a><span data-ttu-id="ec4e2-146">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-146">Netmon</span></span>

<span data-ttu-id="ec4e2-p110">Ferramenta de monitoramento de rede da Microsoft ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analisa pacotes, que é o tráfego, que passa entre computadores em redes. Usando o Netmon para rastrear o tráfego com o Office 365 pode capturar, modo de exibição e ler cabeçalhos de pacotes, identificar dispositivos intermediários, verifique as configurações de importantes em um hardware de rede, procure por pacotes ignorados e siga o fluxo de tráfego entre computadores no seu corporativo rede e o Office 365. Como o corpo real do tráfego é criptografado, ou seja, ele (viaja na porta 443 via SSL/TLS, você não pode ler os arquivos que estão sendo enviados. Em vez disso, você pode fazer um rastreamento não filtrado do caminho que leva o pacote que pode ajudar a rastrear o comportamento do problema.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p110">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks. By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365. Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent. Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>
  
<span data-ttu-id="ec4e2-p111">Certifique-se de que você não aplicar um filtro neste momento. Em vez disso, execute as etapas e demonstrar o problema antes de finalizar o rastreamento e salvar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p111">Be sure you don't apply a filter at this time. Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>
  
<span data-ttu-id="ec4e2-153">Após instalar o Netmon 3.4, abra a ferramenta e siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-153">After you install Netmon 3.4, open the tool and take these steps:</span></span>
  
 <span data-ttu-id="ec4e2-154">**Dê um rastreamento Netmon e reproduzir o problema**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-154">**Take a Netmon trace and reproduce the issue**</span></span>
  
1. <span data-ttu-id="ec4e2-155">Inicie o Netmon 3.4.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-155">Launch Netmon 3.4.</span></span>
    
    <span data-ttu-id="ec4e2-p112">Existem três painéis na página **início** do: **Captura recentes**, **Selecione redes**e o guia de Introdução ao Microsoft Network Monitor 3.4 **. Aviso**. O painel Selecionar redes também fornecerá a você uma lista das redes padrão do qual você pode capturar. Certifique-se de que as placas de rede estão selecionadas aqui.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p112">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**. The Select Networks panel will also give you a list of the default networks from which you can capture. Be sure that network cards are selected here.</span></span>
    
2. <span data-ttu-id="ec4e2-p113">Clique em **Nova captura** na parte superior da página **inicial** . Adiciona uma nova guia ao lado da guia de página **Iniciar** denominada **capturar 1**.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p113">Click **New Capture** at the top of the **Start** page. This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
    
    ![Usuário do Nemon interface com a nova captura, iniciar e parar botões realçado.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)
  
3. <span data-ttu-id="ec4e2-162">Para aproveitar uma simple captura, clique em **Iniciar** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-162">To take a simple capture, click **Start** on the toolbar.</span></span> 
    
4. <span data-ttu-id="ec4e2-163">Reproduza as etapas que apresentam um problema de desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-163">Reproduce the steps that present a performance issue.</span></span>
    
5. <span data-ttu-id="ec4e2-p114">Clique em **Parar** \> **arquivo** \> **Salvar como**. Lembre-se de dar a data e hora com o fuso horário e para mencionar se ele demostra incorreto ou bom desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p114">Click **Stop** \> **File** \> **Save As**. Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>
    
## <a name="httpwatch"></a><span data-ttu-id="ec4e2-166">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="ec4e2-166">HTTPWatch</span></span>

<span data-ttu-id="ec4e2-p115">[HTTPWatch](https://www.httpwatch.com/download/) vem com cobrado e uma edição gratuita. A edição básica livre aborda tudo o que precisa para este teste. Tempo de carregamento de página e o tráfego de rede de monitores HTTPWatch direita da janela do navegador. HTTPWatch é um plug-in do Internet Explorer que descreve graficamente o desempenho. A análise pode ser salvo e exibida no HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p115">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition. The free Basic Edition covers everything you need for this test. HTTPWatch monitors network traffic and page load time right from your browser window. HTTPWatch is a plug-in to Internet Explorer that graphically describes performance. The analysis can be saved and viewed in HTTPWatch Studio.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="ec4e2-p116">Se você usar outro navegador, como o Firefox, Google Chrome, ou se você não conseguir instalar HTTPWatch no Internet Explorer, abra uma nova janela de navegador e pressione a tecla F12 em seu teclado. Você deverá ver a ferramenta de desenvolvedor pop-up na parte inferior do seu navegador. Se você usar Opera, pressione CTRL + SHIFT + I para Web Inspector, clique na guia **rede** e concluir os testes descritos a seguir. As informações serão ligeiramente diferentes, mas os tempos de carregamento ainda serão exibidos em milissegundos. > HTTPWatch também é muito útil para problemas com tempos de carregamento de página do SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p116">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard. You should see the Developer Tool pop-up at the bottom of your browser. If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below. The information will be slightly different, but load times will still be displayed in milliseconds. > HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span> 
  
 <span data-ttu-id="ec4e2-177">**Execute HTTPWatch e reproduzir o problema**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-177">**Run HTTPWatch and reproduce the issue**</span></span>
  
1. <span data-ttu-id="ec4e2-p117">HTTPWatch é um navegador plug-in, portanto, expondo a ferramenta no navegador é ligeiramente diferente para cada versão do Internet Explorer. Normalmente, você pode encontrar HTTPWatch sob a barra de comandos no navegador Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p117">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer. Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser. </span></span><br/><span data-ttu-id="ec4e2-p118">Se você não vir o plug-in de HTTPWatch na janela do navegador, verificar a versão do navegador com um clique ajuda \> sobre ou, em versões posteriores do Internet Explorer, clique no símbolo de engrenagem e o Internet Explorer. Para iniciar a barra de **comandos** , clique com o botão de barra de menus no Internet Explorer e clique em **barra de comandos**. No passado, HTTPWatch tiver sido associada com os comandos e as barras de Explorer, então, depois que você instalar, se não vir imediatamente o ícone (até mesmo após a reinicialização) **Ferramentas**e suas barras de ferramentas para o ícone de seleção. Lembre-se de que as barras de ferramentas podem ser personalizadas e opções que podem ser adicionadas a eles.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p118">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by click Help \> About, or, in later versions of Internet Explorer, click the gear symbol and About Internet Explorer. To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**. In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon. Remember that toolbars can be customized and options can be added to them.</span></span><br/>
    <span data-ttu-id="ec4e2-184">![Barra de ferramentas do Internet Explorer comando com o ícone HTTPWatch exibido.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-184">![Internet Explorer's Command toolbar with the HTTPWatch icon displayed.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span></span>
  
2. <span data-ttu-id="ec4e2-p119">Inicie o HTTPWatch em uma janela do navegador Internet Explorer. Ele será exibido no navegador, na parte inferior da janela encaixado. Clique em **gravar**.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p119">Launch HTTPWatch in an Internet Explorer browser window. It will appear docked to the browser at the bottom of that window. Click **Record**.</span></span>
    
3. <span data-ttu-id="ec4e2-p120">Reproduza exatas etapas envolvidas no problema de desempenho. Clique no botão **Parar** na HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p120">Reproduce the exact steps involved in the performance issue. Click the **Stop** button in HTTPWatch.</span></span> 
    
4. <span data-ttu-id="ec4e2-p121">**Salve** o HTTPWatch ou **Enviar por Email**. Lembre-se nomear o arquivo para que ele inclua informações de data e hora e uma indicação do se sua inspeção contém uma demonstração de desempenho BOM ou ruim.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p121">**Save** the HTTPWatch or **Send by Email**. Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span><br/><span data-ttu-id="ec4e2-192">![HTTPWatch mostrando a guia Rede para um carregamento de página da home page do Office 365.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-192">![HTTPWatch showing the Network tab for a page load of the Office 365 homepage.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span></span><br/>
    <span data-ttu-id="ec4e2-p122">Esta captura de tela é da versão profissional do HTTPWatch. Você pode abrir rastreamentos tomados na versão básica em um computador com uma versão profissional e lê-lo ali. Informações extras podem estar disponíveis do rastreamento da através desse método.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p122">This screen shot is from the Professional version of HTTPWatch. You can open traces taken in the Basic Version on a computer with a Professional version and read it there. Extra information may be available from the trace through that method.</span></span>
    
## <a name="problem-steps-recorder"></a><span data-ttu-id="ec4e2-196">Gravador de etapas de problema</span><span class="sxs-lookup"><span data-stu-id="ec4e2-196">Problem Steps Recorder</span></span>

<span data-ttu-id="ec4e2-p123">Gravador de etapas ou PSR.exe, permite que você registre problemas enquanto eles estão ocorrendo. Ele é uma ferramenta muito útil e muito simples para executar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p123">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring. It's a very useful tool and very simple to run.</span></span>
  
 <span data-ttu-id="ec4e2-199">**Executar o gravador de etapas de problema (PSR.exe) para registrar seu trabalho**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-199">**Run Problem Steps Recorder (PSR.exe) to record your work**</span></span>
  
1. <span data-ttu-id="ec4e2-200">Use **Iniciar** \> **Executar** \> digite **PSR.exe** \> **Okey**, ou então, clique na **Tecla Windows** \> digite **PSR.exe** \> e pressione ENTER.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-200">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span> 
    
2. <span data-ttu-id="ec4e2-p124">Quando a pequena janela PSR.exe for exibida, clique em **Iniciar gravar** e reproduzir as etapas que reproduza o problema de desempenho. Você pode adicionar comentários, conforme necessário, clicando em **Adicionar comentários**.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p124">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue. You can add comments as needed, by clicking **Add Comments**.</span></span>
    
3. <span data-ttu-id="ec4e2-p125">Quando tiver concluído as etapas, clique em **Parar o registro** . Se o problema de desempenho for uma renderização de página, aguarde a página seja processada antes de interromper a gravação.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p125">Click **Stop Record** when you have completed the steps. If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span> 
    
4. <span data-ttu-id="ec4e2-205">Clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-205">Click **Save**.</span></span>
    
![Uma captura de tela do gravador de etapas ou PSR.exe.](media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)
  
<span data-ttu-id="ec4e2-p126">A data e hora é registrada para você. Isso vincula sua PSR aos seus Netmon trace e HTTPWatch em tempo e ajuda na solução de problemas de precisão. A data e hora do registro PSR podem mostrar que um minuto passadas entre o login e navegação da URL e a renderização parcial do site de administração, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p126">The date and time is recorded for you. This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting. The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>
  
## <a name="read-your-traces"></a><span data-ttu-id="ec4e2-210">Leia suas rastreamentos</span><span class="sxs-lookup"><span data-stu-id="ec4e2-210">Read your traces</span></span>

<span data-ttu-id="ec4e2-p127">Não é possível ensinar tudo sobre a solução de problemas de desempenho e de rede que alguém precisa saber por meio de um artigo. Obtendo um bom desempenho leva de experiência e conhecimento dos como sua rede funciona e geralmente executa. Mas é possível arredondar para cima uma lista dos principais problemas e mostrar como ferramentas podem facilitam para eliminar os problemas mais comuns.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p127">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article. Getting good at performance takes experience, and knowledge of how your network works and usually performs. But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>
  
<span data-ttu-id="ec4e2-p128">Se você quiser pegue habilidades lendo rastreamentos de rede para os sites do Office 365, não há nenhuma professor melhor que criando os rastreamentos de carregar páginas regularmente e adquirindo experiência lê-los. Por exemplo, quando você tem uma chance, carregar um serviço do Office 365 e o processo de rastreamento. Filtrar o rastreamento para o tráfego DNS ou pesquisar o FrameData para o nome do serviço do qual que você navegou. Verificar o rastreamento para ter uma ideia das etapas que ocorrem quando o serviço tiver sido carregada. Isso ajudará você a aprender qual normal deve se parecer com carga de página e no caso de solução de problemas, especialmente ao redor de desempenho, comparar os rastreamentos boas para ruim pode ensinar muito.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p128">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them. For example, when you have a chance, load an Office 365 service and trace the process. Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed. Scan the trace to get an idea of the steps that occur when the service loads. This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>
  
<span data-ttu-id="ec4e2-p129">Netmon usa o Microsoft Intellisense no campo de filtro de exibição. IntelliSense ou conclusão de código inteligente, é que truques onde você digita em um período e todas as opções disponíveis são exibidas em uma caixa de seleção da lista suspensa. Se, por exemplo, você está preocupado com o dimensionamento de janela TCP, você pode encontrar seu caminho para um filtro (como `.protocol.tcp.window < 100`) por essa significa.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p129">Netmon uses Microsoft Intellisense in the Display filter field. Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box. If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>
  
![Captura de tela do Netmon mostrando que o campo de filtro de exibição usa o intellisense.](media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)
  
<span data-ttu-id="ec4e2-p130">Netmon rastreamentos podem ter muito tráfego neles. Se você não experientes com lê-los, é provável que você pretende ficar sobrecarregado abrindo o rastreamento na primeira vez. A primeira coisa a fazer é separar o sinal de ruído de fundo no rastreamento. Você testarão o Office 365 e que é o tráfego que você deseja ver. Se você é usados para navegar pela rastreamentos, você talvez precise não desta lista.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p130">Netmon traces can have a lot of traffic in them. If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time. The first thing to do is separate the signal from the background noise in the trace. You tested against Office 365, and that's the traffic you want to see. If you are used to navigating through traces, you may not need this list.</span></span>
  
<span data-ttu-id="ec4e2-p131">O tráfego entre o cliente e o Office 365 viaja via TLS, o que significa que o corpo do tráfego seja criptografado e não pode ser lido em um rastreamento de Netmon genérico. Sua análise de desempenho não precisa saber as especificações das informações no pacote. Entretanto, é muito interessado em cabeçalhos de pacotes e as informações que eles contêm.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p131">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace. Your performance analysis doesn't need to know the specifics of the information in the packet. It is, however, very interested in packet headers and the information that they contain.</span></span>
  
 <span data-ttu-id="ec4e2-231">**Dicas para obter um bom rastreamento**</span><span class="sxs-lookup"><span data-stu-id="ec4e2-231">**Tips to get a good trace**</span></span>
  
- <span data-ttu-id="ec4e2-p132">Sabe o valor do endereço IPv4 ou IPv6 do computador cliente. Você pode obter isso no prompt de comando, digitando **IPConfig** e pressionando ENTER. Saber que esse endereço permitirá a informar num relance se o tráfego no rastreamento diretamente envolve o computador cliente. Se houver um proxy conhecido, execute ping nele e obtenha o endereço IP.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p132">Know the value of the IPv4 or IPv6 address of your client computer. You can get this from the command prompt by typing **IPConfig** and then pressing ENTER. Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer. If there is a known proxy, ping it and get its IP address as well.</span></span> 
    
- <span data-ttu-id="ec4e2-p133">Liberar o cache de resolução DNS e, se possível, feche todos os navegadores exceto aquela na qual você está executando os testes. Se você não conseguir fazer isso, por exemplo, se o suporte está usando alguns ferramenta baseada em navegador para ver a área de trabalho do computador cliente, esteja preparado para filtrar seu rastreamento.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p133">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests. If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>
    
- <span data-ttu-id="ec4e2-p134">Em um rastreamento ocupado, localize o serviço Office 365 que você está usando. Se você nunca ou raramente visto seu tráfego antes, esta é uma etapa útil separando o problema de desempenho de outro ruído de rede. Há algumas maneiras de se fazer isso. Diretamente antes de seu teste, você pode usar ping ou PsPing, para a URL do serviço específico ( `ping outlook.office365.com` e/ou `psping -4 microsoft-my.sharepoint.com:443`, para obter exemplos). Você também pode localizar facilmente que PsPing em um rastreamento de Netmon (por seu nome de processo). Que fornecerá a você um ponto de partida procurando.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p134">In a busy trace, locate the Office 365 service that you're using. If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise. There are a few ways to do this. Directly before your test, you can use ping or, PsPing, to the URL of the specific service ( `ping outlook.office365.com` and/or  `psping -4 microsoft-my.sharepoint.com:443`, for examples) . You can also easily find that PsPing in a Netmon trace (by its process name). That will give you a place to start looking.</span></span>
    
    <span data-ttu-id="ec4e2-p135">Se estiver usando somente o rastreamento de Netmon no momento do problema, que é okey muito. Para orientar, se utilizar um filtro como `ContainsBin(FrameData, ASCII, "office")` ou `ContainsBin(FrameData, ASCII, "outlook")`. Você pode registrar o número do seu quadro do arquivo de rastreamento. Convém também rola o painel de resumo de quadro para a direita e procure a coluna de ID de conversa. Há um número indicado lá para a ID da conversa específica que você também pode registrar e examinar isoladamente posteriormente. Lembre-se remover esse filtro antes de aplicar qualquer outra filtragem.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p135">If you're only using Netmon tracing at the time of the problem, that's okay too. To orient yourself, use a filter like  `ContainsBin(FrameData, ASCII, "office")` or  `ContainsBin(FrameData, ASCII, "outlook")`. You can record your frame number from the trace file. You may also want to scroll the Frame Summary pane all the way to the right and look for the Conversation ID column. There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later. Remember to remove this filter before applying any other filtering.</span></span>
    
> [!TIP]
> <span data-ttu-id="ec4e2-p136">Netmon tem muito úteis filtros internos. Experimente o botão "Load Filter" na parte superior do painel de filtro de **exibição** .</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p136">Netmon has a lot of helpful built-in filters. Try the "Load Filter" button at the top of the **Display** filter pane.</span></span> 
  
![Encontre seu IP usando PSPing na linha de comando no computador cliente.](media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)
  
![Netmon trace do cliente mostrando o mesmo comando PSPing por meio do filtro TCP. Flags.Syn = = 1.](media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)
  
<span data-ttu-id="ec4e2-p137">Familiarize-se com o tráfego e saiba como localizar as informações que necessárias. Por exemplo, saiba como determinar quais pacotes no rastreamento tem a primeira referência ao serviço do Office 365, que você está usando (como "Outlook").</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p137">Get familiar with your traffic, and learn to locate the information you need. For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>
    
<span data-ttu-id="ec4e2-256">Assumir o Office 365 Online do Outlook como exemplo, o tráfego começa semelhante a esta:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-256">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>
  
- <span data-ttu-id="ec4e2-p138">Consulta de DNS padrão e a resposta de DNS para outlook.office365.com com correspondência QueryIDs. É importante observar o tempo de deslocamento para este turn-ao redor, bem como where no mundo o DNS globais do Office 365 envia a solicitação para resolução de nome. Idealmente, localmente possíveis, em vez de meia-way no mundo inteiro. (Isso pode ser seguido por alguns o login on-line do tráfego DNS.)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p138">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs. It's important to note the Time Offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution. Ideally, as locally as possible, rather than half-way across the world. (This may be followed by some DNS traffic the online login.)</span></span>
    
- <span data-ttu-id="ec4e2-261">Um HTTP GET Request cujo status relatar movido permanentemente (301)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-261">A HTTP GET Request whose status report Moved Permanently (301)</span></span>
    
- <span data-ttu-id="ec4e2-p139">Tráfego de RWS incluindo RWS conectar solicitações e respostas de conectar. (Isso é Winsock remoto fazendo uma conexão para você.)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p139">RWS Traffic including RWS Connect requests and Connect replies. (This is Remote Winsock making a connection for you.)</span></span>
    
- <span data-ttu-id="ec4e2-p140">Uma conversação SYN TCP e TCP SYN/confirmação. Muitas das configurações nesta conversa impacto no desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p140">A TCP SYN and TCP SYN/ACK conversation. A lot of the settings in this conversation impact your performance.</span></span>
    
- <span data-ttu-id="ec4e2-p141">Em seguida, uma série de tráfego TLS:TLS que é onde o handshake TLS e TLS certificado conversas ocorrem. (Se lembrar que os dados são criptografados via SSL/TLS).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p141">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place. (Remember the data is encrypted via SSL/TLS.)</span></span>
    
<span data-ttu-id="ec4e2-p142">Todas as partes do tráfego são importantes e conectado, mas pequenas partes do rastreamento contêm informações particularmente importantes em termos de desempenho solução de problemas, portanto, focaremos nessas áreas. Além disso, desde que fizemos suficiente Resolvendo problemas na Microsoft para compilar uma lista de dez primeiros dos problemas comuns de desempenho do Office 365, focaremos sobre esses problemas e como usar as ferramentas que temos apontá-los Avançar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p142">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas. Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>
  
<span data-ttu-id="ec4e2-p143">Se você não instalou-los tudo pronta, matriz a seguir torna o uso das várias ferramentas. Onde for possível. Links são fornecidos para os pontos de instalação. A lista inclui ferramentas de rastreamento de rede comuns como [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) e [Wireshark](https://www.wireshark.org/), mas usar qualquer ferramenta de rastreamento que você se sente confortável com e no qual você acostumados à filtragem de tráfego de rede. Quando você estiver testando, lembre-se:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p143">If you haven't installed them all ready, the matrix below makes use of several tools. Where possible. Links are provided to the installation points. The list includes common network tracing tools like [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic. When you're testing, remember:</span></span>
  
-  <span data-ttu-id="ec4e2-p144">*Feche seus navegadores e teste com apenas um navegador em execução* - isso reduzirá o você capturar o tráfego geral. Torna para um rastreamento menos ocupado.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p144">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture. It makes for a less busy trace.</span></span> 
    
-  <span data-ttu-id="ec4e2-277">*Liberar o cache de resolução DNS no computador cliente* - isso fornecerá a você uma área limpa Quando você inicia assuma sua captura, para um rastreamento mais limpo.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-277">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span> 
    
## <a name="some-top-issues"></a><span data-ttu-id="ec4e2-278">Alguns principais problemas</span><span class="sxs-lookup"><span data-stu-id="ec4e2-278">Some Top Issues</span></span>

<span data-ttu-id="ec4e2-279">Alguns problemas comuns que você pode enfrentar e como localizá-los em seu rastreamento de rede.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-279">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="ec4e2-280">Dimensionamento de janelas TCP</span><span class="sxs-lookup"><span data-stu-id="ec4e2-280">TCP Windows Scaling</span></span>

<span data-ttu-id="ec4e2-p145">Encontrado no SYN - SYN/ACK. herdada ou hardware de vencimento pode não tirar proveito de dimensionamento de janelas TCP.  Sem dimensionamento configurações adequadas janelas TCP, o buffer de 16 bits padrão em cabeçalhos TCP preenche em milissegundos.  Tráfego não pode continuar enviando até que o cliente recebe uma confirmação de que os dados originais foi recebidos, causando atrasos.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p145">Found in the SYN - SYN/ACK. Legacy or aging hardware may not take advantage of TCP windows scaling.  Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.  Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="ec4e2-285">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-285">Tools:</span></span>

- <span data-ttu-id="ec4e2-286">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-286">Netmon</span></span>
- <span data-ttu-id="ec4e2-287">Wireshark</span><span class="sxs-lookup"><span data-stu-id="ec4e2-287">Wireshark</span></span> 

#### <a name="what-youre-looking-for"></a><span data-ttu-id="ec4e2-288">O que você está procurando:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-288">What you're looking for:</span></span>

<span data-ttu-id="ec4e2-p146">Procure o SYN - SYN/confirmação tráfego em seu rastreamento de rede.  No Netmon, use um filtro como `tcp.flags.syn == 1`. Esse filtro é o mesmo em Wireshark.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p146">Look for the SYN - SYN/ACK traffic in your network trace.  In Netmon, use a filter like  `tcp.flags.syn == 1`. This filter is the same in Wireshark.</span></span>  

![Filtro de pacotes Syn para ambas as ferramentas em Netmon ou Wireshark: TCP. Flags.Syn = = 1.](media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)         
<span data-ttu-id="ec4e2-293">Observe que, para cada SYN, há um número de porta (SrcPort) de origem que corresponde a porta de destino (DstPort) da confirmação relacionada (SYN ACK).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-293">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span> 

<span data-ttu-id="ec4e2-294">Para ver o valor de dimensionamento do Windows que é usado pelo sua conexão de rede, expanda primeiramente o SYN e relacionados SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-294">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>  

![Gráfico que mostra como fazer a correspondência SrcPort para DstPort em um rastreamento, para obter o intervalo de tempo.](media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)  

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="ec4e2-296">Configurações de tempo ocioso do TCP</span><span class="sxs-lookup"><span data-stu-id="ec4e2-296">TCP Idle Time Settings</span></span>

<span data-ttu-id="ec4e2-p147">Historicamente, a maioria das redes de perímetro são configurados para conexões transitórios, que significa conexões ociosas geralmente são encerrados. Sessões de ociosidade TCP podem ser finalizadas pelo proxies e firewalls mais de 100 a 300 segundos. Isso é problemático para o Outlook Online porque ele cria e usa conexões de longo prazo, independentemente de estarem ociosos ou não.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p147">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated. Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds. This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>  

<span data-ttu-id="ec4e2-p148">Quando conexões são encerradas pelo proxy ou dispositivos de firewall, o cliente não é informada e uma tentativa de usar o Outlook Online significará um computador cliente tentará, repetidamente, reviver a conexão antes de fazer uma nova. Talvez você veja cai no produto, avisos ou desempenho lento no carregamento de página.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p148">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one. You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="ec4e2-302">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-302">Tools:</span></span>

- <span data-ttu-id="ec4e2-303">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-303">Netmon</span></span>
- <span data-ttu-id="ec4e2-304">Wireshark</span><span class="sxs-lookup"><span data-stu-id="ec4e2-304">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-305">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-305">What to look for:</span></span>

<span data-ttu-id="ec4e2-p149">Netmon, examine o campo tempo deslocamento para um de ida e volta. Uma ida e volta é o tempo entre o cliente enviando uma solicitação para o servidor e recebe uma resposta de volta. Verificar entre o cliente e o ponto de saída (ex. cliente –\> Proxy), ou o cliente para o Office 365 (cliente –\> Office 365). Você pode ver isso em muitos tipos de pacotes.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p149">In Netmon, look at the Time Offset field for a round-trip. A round-trip is the time between client sending a request to the server and receiving a response back. Check between the Client and the egress point (ex. Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365). You can see this in many types of packets.</span></span> 

<span data-ttu-id="ec4e2-311">Por exemplo, o filtro na Netmon pode ser parecida com `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, ou, no Wireshark, `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-311">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>  

> [!TIP]
> <span data-ttu-id="ec4e2-p150">Não sabe se o endereço IP em seu rastreamento pertence ao seu servidor DNS? Tente procurar na linha de comando. Clique em **Iniciar** \> **Executar** \> e digite **cmd**ou pressione a **Tecla Windows** \> e digite **cmd**. No prompt, digite `nslookup <the IP address from the network trace>`. Para testar, use o nslookup contra o endereço IP do seu próprio computador. > Para ver uma lista de intervalos IP da Microsoft, consulte [URLs do Office 365 e intervalos de endereços IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p150">Don't know if the IP address in your trace belongs to your DNS server? Try looking it up at the command line. Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**. At the prompt, type  `nslookup <the IP address from the network trace>`. To test, use nslookup against your own computer's IP address. > To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="ec4e2-p151">Se houver um problema, esperam longo tempo desloca apareça, neste caso (Outlook on-line), especialmente em pacotes TLS:TLS que mostram a passagem de dados do aplicativo (por exemplo, em Netmon você pode encontrar os pacotes de dados de aplicativo via `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). Você deverá ver uma progressão tranquila no tempo entre a sessão. Se você vir longos atrasos ao atualizar sua Online do Outlook, isso pode ser causado por um alto grau de redefinições que estão sendo enviadas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p151">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). You should see a smooth progression in the time across the session. If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span> 

### <a name="latencyround-trip-time"></a><span data-ttu-id="ec4e2-321">Latência/Round Trip tempo</span><span class="sxs-lookup"><span data-stu-id="ec4e2-321">Latency/Round Trip Time</span></span> 

<span data-ttu-id="ec4e2-322">Latência é uma medida que pode ser alterados muito dependendo muitas variáveis, tais como atualizar os dispositivos de vencimento, a adição de um grande número de usuários a uma rede e a porcentagem da largura de banda geral consumida por outras tarefas em uma conexão de rede.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-322">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span> 

<span data-ttu-id="ec4e2-323">Existem calculadoras de largura de banda para o Office 365 disponíveis nesta página [planejamento de rede e ajuste de desempenho para o Office 365](network-planning-and-performance.md) .</span><span class="sxs-lookup"><span data-stu-id="ec4e2-323">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>  

<span data-ttu-id="ec4e2-p152">Necessário para medir a velocidade de sua conexão ou largura de banda da conexão do seu ISP? Tente este site (ou sites como ela): [Site oficial do Speedtest](https://www.speedtest.net/)e [Pingtest](http://www.pingtest.net/).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p152">Need to measure the speed of your connection, or your ISP connection's bandwidth? Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), and [Pingtest](http://www.pingtest.net/).</span></span>

#### <a name="tools"></a><span data-ttu-id="ec4e2-326">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-326">Tools:</span></span>

- <span data-ttu-id="ec4e2-327">Ping</span><span class="sxs-lookup"><span data-stu-id="ec4e2-327">Ping</span></span>
- <span data-ttu-id="ec4e2-328">PsPing</span><span class="sxs-lookup"><span data-stu-id="ec4e2-328">PsPing</span></span>
- <span data-ttu-id="ec4e2-329">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-329">Netmon</span></span>
- <span data-ttu-id="ec4e2-330">Wireshark</span><span class="sxs-lookup"><span data-stu-id="ec4e2-330">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-331">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-331">What to look for:</span></span>

<span data-ttu-id="ec4e2-p153">Para rastrear a latência em um rastreamento, você beneficiarão tendo registradas o endereço IP do computador cliente e o endereço IP do servidor DNS no Office 365. Isso é para fins de filtragem do rastreamento mais fácil. Se você conectar através de um proxy, você precisará seu endereço IP do computador cliente, o endereço IP/saída de proxy e o endereço IP de DNS do Office 365, para facilitar o trabalho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p153">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365. This is for the purpose of easier trace filtering. If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>  

<span data-ttu-id="ec4e2-p154">Uma solicitação de ping enviada para outlook.office365.com informará o nome do datacenter recebendo a solicitação, mesmo se o ping *pode* não ser capazes de se conectar para enviar pacotes ICMP consecutivos de marca comercial. Se você usar PsPing (uma ferramenta gratuita para download) e específicos a porta (443) e talvez para usar IPv4 (-4) receberá uma round-trip-tempo médio para pacotes enviados. Isso irá funcionar isso para outras URLs em serviços do Office 365, como `psping -4 yourSite.sharepoint.com:443`. Na verdade, você pode especificar um número de ping para obter um exemplo maior sua média, tente parecido com: `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p154">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets. If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent. This will work this for other URLs in the Office 365 services, like  `psping -4 yourSite.sharepoint.com:443`. In fact, you can specify a number of pings to get a larger sample for your average, try something like:  `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>  

> [!NOTE]
> <span data-ttu-id="ec4e2-p155">PsPing não enviar pacotes ICMP. Ele faz o ping com pacotes TCP por uma porta específica, então você pode usar qualquer um que você sabe para ser aberto. No Office 365, que usa o SSL/TLS, tente anexar porta: 443 para sua PsPing.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p155">PsPing doesn't send ICMP packets. It pings with TCP packets over a specific port, so you can use any one you know to be open. In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Que mostra uma ping Resolvendo outlook.office365.com e um PSPing com o 443 fazendo o mesmo, mas também reporting um tempo de resposta médio 6.5ms captura de tela.](media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)        

<span data-ttu-id="ec4e2-p156">Se você tiver carregado página do Office 365 desempenho lenta enquanto efetua um rastreamento de rede, você deve filtrar um rastreamento Netmon ou Wireshark para `DNS`. Este é um dos IPs que queremos.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p156">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for  `DNS`. This is one of the IPs we're looking for.</span></span>  

<span data-ttu-id="ec4e2-p157">Aqui estão as etapas a serem executadas para filtrar o Netmon para obter o endereço IP (e dê uma olhada na latência de DNS). Este exemplo usa outlook.office365.com, mas também pode usar a URL de um inquilino do SharePoint Online (hithere.sharepoint.com, por exemplo).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p157">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency). This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>  

1. <span data-ttu-id="ec4e2-347">Ping a URL `ping outlook.office365.com` e, nos resultados da, registre o nome e o endereço IP do servidor DNS a solicitação de ping foi enviada para.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-347">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span> 
2. <span data-ttu-id="ec4e2-348">Rede rastrear abrindo a página, ou fazendo a ação que dá a você o problema de desempenho, ou, se você vir uma latência alta no ping, propriamente dito, rede de rastreamento-lo.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-348">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span> 
3. <span data-ttu-id="ec4e2-p158">Abra o rastreamento em Netmon e filtro para DNS (esse filtro também funciona em Wireshark, mas é sensível ao caso `-- dns`). Desde que você sabe o nome do servidor DNS do seu ping, você também pode filtrar mais Netmon rapidamente em semelhante a esta: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , parecido com o seguinte no dns Wireshark e quadro contém "namnorthwest".</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p158">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`). Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="ec4e2-p159">Abra o pacote de resposta e, na janela de detalhes do quadro de Netmon, clique em DNS para expandir para obter mais informações. As informações de DNS, que você encontrará o endereço IP do servidor DNS que a solicitação foi para no Office 365 – você precisará esse endereço IP para a próxima etapa (a ferramenta PsPing). Remova o filtro, clique com botão direito na resposta do DNS, em resumo do quadro do Netmon \> localizar conversas \> DNS para ver a consulta DNS e resposta--lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p159">Open the response packet and, in Frame Details window of Netmon, click DNS to expand for more information. In the DNS information you'll find the IP address of the DNS server the request went to in Office 365 -- you'll need this IP address for the next step (the PsPing tool). Remove the filter, right-click on the DNS Response in Netmon's Frame Summary \> Find Conversations \> DNS to see the DNS Query and Response side-by-side.</span></span> 
4. <span data-ttu-id="ec4e2-p160">Netmon, observe também a coluna tempo deslocamento entre a solicitação de DNS e a resposta. Na próxima etapa, fácil de instalar e uso [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) ferramenta muito prático, pois ICMP frequentemente estiver bloqueada no Firewalls, tanto porque PsPing modo elegante rastreia latência em milissegundos. PsPing conclui uma conexão TCP para um endereço e a porta (no nossa caso abra a porta 443).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p160">In Netmon, also note the Time Offset  column between the DNS Request and Response. In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds. PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span> 
5. <span data-ttu-id="ec4e2-357">Instale o PsPing.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-357">Install PsPing.</span></span> 
6. <span data-ttu-id="ec4e2-p161">Abra um prompt de comando (Iniciar \> executar \> digite cmd ou tecla Windows \> digite cmd) e altere o diretório para o diretório onde você instalou PsPing para executar o comando PsPing. Nos meus exemplos, você pode ver que eu feita uma pasta 'Perf' na raiz do C. Você pode fazer as mesmas para acesso rápido.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p161">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command. In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span> 
7. <span data-ttu-id="ec4e2-360">Digite o comando de forma que você está fazendo sua PsPing com base no endereço IP do servidor DNS do Office 365 do seu rastreamento de Netmon anterior--Lembre-se de adicionar o número da porta.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-360">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace -- remember to add the port number.</span></span> <br/><span data-ttu-id="ec4e2-p162">Em outras palavras, `psping -n 20 132.245.24.82:445`. Isso proporcionam uma amostragem de 20 ping e médio a latência quando PsPing é interrompido.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p162">In other words, `psping -n 20 132.245.24.82:445`. This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span> 

<span data-ttu-id="ec4e2-p163">Se você vai para o Office 365 através de um servidor proxy, as etapas são um pouco diferentes. Você faria PsPing primeiro ao servidor de proxy para obter um valor de latência média em milissegundos para proxy/saída e de volta e um execute PsPing no proxy ou em um computador com uma conexão direta de Internet para obter o valor ausente (um para Office 365 e vice-versa).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p163">If you're going to Office 365 through a proxy server, the steps are a little different. You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>  

<span data-ttu-id="ec4e2-p164">Se você optar por executar PsPing do proxy, você terá dois valores de milissegundo: o computador cliente para servidor proxy ou ponto de saída e o servidor proxy para o Office 365. E pronto! Bem, Gravando valores, mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p164">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365. And you're done! Well, recording values, anyway.</span></span>  

<span data-ttu-id="ec4e2-p165">Se você executar PsPing em outro computador cliente que tenha uma conexão direta com a Internet, ou seja, sem um proxy, você terá dois valores de milissegundo: o computador cliente para servidor proxy ou ponto de saída e o computador cliente para o Office 365. Subtrair nesse caso, o valor do computador cliente para o ponto de saída ou de servidor proxy do valor do computador cliente para o Office 365, você terá os números de tempo de resposta do computador cliente para o ponto de saída ou de servidor proxy e do proxy server ou saída aponte para Offi CE 365.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p165">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365. In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span> 

<span data-ttu-id="ec4e2-370">No entanto, se você puder localizar um computador cliente no local afetado que está conectado diretamente ou ignora o proxy, você pode optar por ver se o problema lá reproduz começar com e testar a usá-la, depois disso.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-370">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it, thereafter.</span></span> 

<span data-ttu-id="ec4e2-371">Latência, como visto em um rastreamento de Netmon, milissegundos esses extras podem adicionar para cima, se houver suficiente deles em qualquer sessão de determinado.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-371">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>  

![Latência geral no Netmon, com a coluna de Intervalo de Tempo padrão do Netmon adicionada ao Resumo do Quadro.](media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="ec4e2-p166">Seu endereço IP pode ser diferente do que o IPs mostrado aqui, por exemplo, que seu ping pode retornar algo mais como 157.56.0.0/16 ou um intervalo semelhante. Para obter uma lista de intervalos usados pelo Office 365, confira [URLs do Office 365 e intervalos de endereços IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p166">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range. For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="ec4e2-375">Lembre-se expandir todos os nós (há um botão na parte superior para que isso) se você quiser procurar, por exemplo, 132.245.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-375">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="ec4e2-376">Autenticação de proxy</span><span class="sxs-lookup"><span data-stu-id="ec4e2-376">Proxy Authentication</span></span>

<span data-ttu-id="ec4e2-p167">Isso se aplica apenas a você se você vai por meio de um servidor proxy. Caso contrário, pule essas etapas. Quando funcionando corretamente, a autenticação de proxy deverá ocorrer em milissegundos, consistentemente. Você não deve ver intermitente desempenho ruim durante os períodos de uso (por exemplo).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p167">This only applies to you if you're going through a proxy server. If not, you can skip these steps. When working properly, proxy authentication should take place in milliseconds, consistently. You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>  

<span data-ttu-id="ec4e2-p168">Se a autenticação de Proxy for ativado, cada vez que fizer uma nova conexão de TCP para o Office 365 para obter mais informações, você precisa passar por um processo de autenticação em segundo plano. Portanto, por exemplo, quando você alterna de calendário para email no Outlook Online, você irá autenticar. E no SharePoint Online, se uma página exibe a mídia ou dados de vários sites ou locais, você irá autenticar para cada conexão TCP diferente que é necessária para processar os dados.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p168">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes. So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate. And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>  

<span data-ttu-id="ec4e2-p169">No Outlook Online, você pode enfrentar tempos de carregamento lento sempre que você alterna entre a sua caixa de correio e calendário ou lenta página tiver sido carregada no SharePoint Online. No entanto, há outros sintomas não listadas aqui.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p169">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online. However, there are other symptoms not listed here.</span></span> 

<span data-ttu-id="ec4e2-p170">Autenticação de proxy é uma configuração no seu servidor de proxy de saída. Se ele está causando um problema de desempenho com o Office 365, você deve consultar sua equipe da rede.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p170">Proxy authentication is a setting on your egress proxy server. If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>  

#### <a name="tool"></a><span data-ttu-id="ec4e2-388">Ferramenta:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-388">Tool:</span></span> 

- <span data-ttu-id="ec4e2-389">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-389">Netmon</span></span>
- <span data-ttu-id="ec4e2-390">Wireshark</span><span class="sxs-lookup"><span data-stu-id="ec4e2-390">Wireshark</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-391">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-391">What to look for:</span></span>

<span data-ttu-id="ec4e2-p171">Proxy autenticação ocorre sempre que uma nova sessão do TCP deve ser girada para cima, comumente para solicitar informações ou arquivos do servidor, ou fornecer informações. Por exemplo, talvez você veja a autenticação de proxy em torno de solicitações HTTP GET ou HTTP POST. Se você deseja visualizar os quadros de onde você estiver autenticando solicitações em seu rastreamento, adicione a coluna 'NTLMSSP resumo' Netmon e filtro para `.property.NTLMSSPSummary`. Para ver quanto tempo a autenticação está demorando, adicione a coluna de tempo Delta.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p171">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info. For example, you may see proxy authentication around HTTP GET or HTTP POST requests. If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`. To see how long the authentication is taking, add the Time Delta column.</span></span> 

<span data-ttu-id="ec4e2-396">Para adicionar uma coluna a Netmon:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-396">To add a column to Netmon:</span></span> 
1. <span data-ttu-id="ec4e2-397">Clique com botão direito em uma coluna como descrição.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-397">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="ec4e2-398">Clique em Escolher colunas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-398">Click Choose Columns.</span></span> 
3. <span data-ttu-id="ec4e2-399">Localize NTLMSSP resumo e Delta de tempo na lista e clique em Adicionar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-399">Locate NTLMSSP Summary and Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="ec4e2-400">Mova as novas colunas no lugar antes ou para trás na coluna Descrição para que possa ler lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-400">Move the new columns into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="ec4e2-401">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-401">Click OK.</span></span> 

<span data-ttu-id="ec4e2-p172">Mesmo se você não adicionar a coluna, o filtro Netmon funcionará. Mas sua solução de problemas será muito mais fácil se você pode ver qual estágio da autenticação estiver em.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p172">Even if you don't add the column, the Netmon filter will work. But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span> 

<span data-ttu-id="ec4e2-p173">Quando estiver presente procurando de instâncias de autenticação de Proxy, certifique-se estudar a todos os quadros onde há um desafio NTLM ou uma mensagem de autenticar. Se necessário, clique com o botão a informação específica de tráfego e localizar conversas \> TCP. Lembre-se dos valores de tempo Delta nessas conversas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p173">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present. If necessary, right-click the specific piece of traffic and Find Conversations \> TCP. Be aware of the Time Delta values in these Conversations.</span></span> 

![Netmon trace mostrando autenticação proxy, filtrada por conversa.](media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)        

<span data-ttu-id="ec4e2-p174">Um segundo quatro atraso na autenticação de proxy, como visto no Wireshark. A coluna **delta de tempo do quadro exibido anterior** foi feita via clicando duas vezes o campo do mesmo nome nos detalhes do quadro e selecionando Add como coluna.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p174">A four second delay in proxy authentication as seen in Wireshark. The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.  </span></span><br/> <span data-ttu-id="ec4e2-410">![Em Wireshark, a coluna 'Delta de tempo do quadro exibido anterior' pode ser feita via clicando duas vezes o campo do mesmo nome nos detalhes do quadro e selecionando Add como coluna.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="ec4e2-410">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>        

### <a name="dns-performance"></a><span data-ttu-id="ec4e2-411">Desempenho do DNS</span><span class="sxs-lookup"><span data-stu-id="ec4e2-411">DNS Performance</span></span>

<span data-ttu-id="ec4e2-412">Nome resolução funciona melhor e mais rapidamente quando ele ocorre mais próximo país do cliente quanto possível.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-412">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span> 

<span data-ttu-id="ec4e2-p175">Se a resolução de nomes DNS está ocorrendo no exterior, ele pode adicionar segundos para carregar páginas. Idealmente, a resolução de nomes acontece em 100ms em. Se não, você deve fazer mais investigação.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p175">If DNS name resolution is taking place overseas, it can add seconds to page loads. Ideally, name resolution happens in under 100ms. If not, you should do further investigation.</span></span> 

> [!TIP]
> <span data-ttu-id="ec4e2-p176">Não tem certeza como funciona a conectividade do cliente no Office 365? Dê uma olhada o documento de referência de conectividade de cliente [aqui](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p176">Not sure how Client Connectivity works in Office 365? Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span></span>           

#### <a name="tools"></a><span data-ttu-id="ec4e2-418">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-418">Tools:</span></span> 

- <span data-ttu-id="ec4e2-419">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-419">Netmon</span></span>
- <span data-ttu-id="ec4e2-420">Wireshark</span><span class="sxs-lookup"><span data-stu-id="ec4e2-420">Wireshark</span></span>
- <span data-ttu-id="ec4e2-421">PsPing</span><span class="sxs-lookup"><span data-stu-id="ec4e2-421">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-422">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-422">What to look for:</span></span>
<span data-ttu-id="ec4e2-p177">Analisar o desempenho do DNS é geralmente outro trabalho para um rastreamento de rede. No entanto, PsPing também é útil para exilados in ou check-out, uma causa possível.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p177">Analyzing DNS performance is typically another job for a network trace. However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span> 

<span data-ttu-id="ec4e2-p178">O tráfego DNS se baseia em TCP e UDP solicitações e respostas são claramente marcadas com uma ID que ajudarão a correspondência de uma solicitação específica com sua resposta específicos. Você verá DNS tráfego quando, por exemplo, SharePoint Online usa um nome de rede ou uma URL em uma página da web. Como regra geral, a maioria desse tráfego, exceto quando transferindo zonas, executa sobre UDP.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p178">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response. You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page. As a rule of thumb, most of this traffic, excepting when transferring Zones, runs over UDP.</span></span> 

<span data-ttu-id="ec4e2-p179">Em Netmon e Wireshark, o filtro de forma mais básico que permitirá que você examine o tráfego DNS é simplesmente `dns`. Certifique-se de usar letras minúsculas ao especificar o filtro. Lembre-se a liberar seu cache de resolução DNS antes de começar a reproduzir o problema no computador cliente. Por exemplo, se você tiver uma carga de página do SharePoint Online lenta da Home page, você deve fechar todos os navegadores, abra um novo navegador, iniciar o rastreamento, liberar seu cache de resolução DNS e navegue até o site do SharePoint Online. Depois que a página inteira resolve, você deve parar e salve o rastreamento.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p179">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply  `dns`. Be sure to use lower case when specifying the filter. Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer. For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site. Once the entire page resolves, you should stop and save the trace.</span></span>

![No Netmon, um filtro básico para DNS é DNS.](media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="ec4e2-p180">Você deseja examinar o tempo de deslocamento aqui. E pode ser útil adicionar a coluna **Tempo Delta** à Netmon que pode ser feito ao concluir estas etapas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p180">You want to look at the time offset here. And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span> 
1. <span data-ttu-id="ec4e2-436">Clique com botão direito em uma coluna como descrição.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-436">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="ec4e2-437">Clique em Escolher colunas.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-437">Click Choose Columns.</span></span> 
3. <span data-ttu-id="ec4e2-438">Localize o intervalo de tempo na lista e clique em Adicionar.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-438">Locate Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="ec4e2-439">Mova a nova coluna no lugar antes ou para trás na coluna Descrição para que possa ler lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-439">Move the new column into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="ec4e2-440">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-440">Click OK.</span></span> 

<span data-ttu-id="ec4e2-p181">Se você encontrar uma consulta de interesse, considere isolando-clicando nessa consulta no painel de detalhes do quadro, escolhendo **Localizar conversas** \> **DNS**. Observe que o painel de conversas de rede conduz à direita para a conversa específica em seu log do tráfego UDP.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p181">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**. Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span> 

![Um rastreamento Netmon de carga on-line do Outlook filtrados por DNS e, em seguida, usar Localizar conversas e DNS para restringir os resultados.](media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)        

<span data-ttu-id="ec4e2-p182">Em Wireshark, você pode fazer uma coluna para o tempo DNS. Seu rastreamento (ou abrir um rastreamento) no Wireshark e filtrar por `dns`, ou, mais Felizmente, `dns.time`. Clique em qualquer consulta DNS e, no painel mostrando detalhes, expanda o `Domain Name System (response)` detalhes. Você verá um campo de tempo (por exemplo, ` [Time: 0.001111100 seconds] `. Neste momento do mouse em e selecione **Aplicar como coluna**. Isso fornecerá a você uma coluna de **tempo** para a classificação mais rápidos do seu rastreamento. Clique em nova coluna para classificar por decrescente valores para ver quais DNS chamada demorou por mais tempo para resolver.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p182">In Wireshark you can make a column for DNS time. Take your trace (or open a trace) in Wireshark and filter by  `dns`, or, more helpfully,  `dns.time`. Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details. You'll see a field for time (for example,  ` [Time: 0.001111100 seconds] `. Right-click this time and select **Apply as Column**. This will give you a **Time** column for quicker sorting of your trace. Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span> 

[<span data-ttu-id="ec4e2-451">Uma procura do SharePoint Online filtrada no Wireshark por dns.time (minúsculas), com o tempo dos detalhes transformado em uma coluna e classificado em ordem crescente.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-451">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="ec4e2-p183">Se você gostaria de fazer mais investigação do tempo de resolução de DNS, tente uma PsPing contra a porta DNS usada pelo TCP (por exemplo, `psping <IP address of DNS server>:53`). Ainda assim, você vê um problema de desempenho? Se fizer isso, o problema é mais provável de ser uma rede ampla emitir que um problema de específicos do aplicativo de DNS que você está atingindo para fazer a resolução. Ele também vale mencionar, novamente, que um ping para outlook.office365.com informará onde a resolução de nomes DNS para o Outlook Online está sendo realizada (por exemplo, outlook-namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p183">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) . Do you still see a performance issue? If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution. It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).  </span></span><br/> <span data-ttu-id="ec4e2-456">Se o problema parece para estar DNS específico, talvez seja necessário entrar em contato com seu departamento de TI ser analisado encaminhadores DNS para investigar esse problema e configurações de DNS.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-456">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span> 

### <a name="proxy-scalability"></a><span data-ttu-id="ec4e2-457">Escalabilidade de proxy</span><span class="sxs-lookup"><span data-stu-id="ec4e2-457">Proxy Scalability</span></span>

<span data-ttu-id="ec4e2-p184">Serviços como o Outlook Online no Office 365 concedem clientes várias conexões de longo prazo. Portanto, cada usuário poderá usar mais conexões que exigem uma duração mais longa.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p184">Services like Outlook Online in Office 365 grant clients multiple long-term connections. Therefore, each user may use more connections that require a longer life.</span></span>  

> [!TIP]
> <span data-ttu-id="ec4e2-p185">Você precisa planejar a utilização de largura de banda porque você está prestes a adicionar muito usuários para o Office 365? Tente a [Planejar a utilização de largura de banda da Internet para o Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). Existem calculadoras de largura de banda disponível lá.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p185">Need to plan for bandwidth use because you're about to add a lot users to Office 365? Try [Plan for Internet bandwidth usage for Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). There are bandwidth calculators available there.</span></span>

#### <a name="tool"></a><span data-ttu-id="ec4e2-463">Ferramenta:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-463">Tool:</span></span>
 
<span data-ttu-id="ec4e2-464">Matemática</span><span class="sxs-lookup"><span data-stu-id="ec4e2-464">Math</span></span>  

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-465">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-465">What to look for:</span></span> 

<span data-ttu-id="ec4e2-p186">Não há nenhum rastreamento de rede ou a ferramenta de solução de problemas específicos para isso. Em vez disso, ele é baseado em cálculos de largura de banda dado limitações e outras variáveis.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p186">There is no network trace or troubleshooting tool specific to this. Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>  

### <a name="tcp-max-segment-size"></a><span data-ttu-id="ec4e2-468">Tamanho de segmento máximo TCP</span><span class="sxs-lookup"><span data-stu-id="ec4e2-468">TCP Max Segment Size</span></span>

<span data-ttu-id="ec4e2-p187">Encontrado no SYN - SYN/ACK.  Fazer essa verificação em qualquer rastreamento de rede de desempenho feitos para garantir que os pacotes TCP são configurados para executar a quantidade máxima de dados possível.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p187">Found in the SYN - SYN/ACK.  Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span> 

<span data-ttu-id="ec4e2-p188">O objetivo é ver um MSS de 1460 bytes para a transmissão de dados. Se você estiver atrás de um proxy ou você estiver usando NAT, lembre-se de executar esse teste do cliente para o proxy/saída/NAT e do proxy/saída/NAT para o Office 365 para obter os melhores resultados! Estas são as sessões TCP diferentes.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p188">The goal is to see a MSS of 1460 bytes for transmission of data. If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="ec4e2-474">Ferramenta:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-474">Tool:</span></span> 

<span data-ttu-id="ec4e2-475">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-475">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-476">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-476">What to look for:</span></span>

<span data-ttu-id="ec4e2-p189">Tamanho de segmento TCP Max (MSS) é outro parâmetro do handshake três vias no rastreamento de rede, isso significa que você encontrará os dados que necessários no SYN - pacote de SYN/confirmação. MSS é realmente simples para ver.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p189">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet. MSS is actually pretty simple to see.</span></span> 

<span data-ttu-id="ec4e2-479">Abra o rastreamento de rede qualquer desempenho, você tem e encontrar a conexão que você está curioso para saber ou que demonstra o problema de desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-479">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span> 

> [!NOTE]
> <span data-ttu-id="ec4e2-p190">Se você estiver procurando em um rastreamento e precisa encontrar o tráfego relevantes à sua conversa, filtre pelo IP do cliente ou o IP do servidor proxy ou ponto de saída ou ambos. Vai diretamente, você precisará fazer o ping a URL que você estiver testando o endereço IP do Office 365 no rastreamento e filtro por ele.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p190">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both. Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span> 

<span data-ttu-id="ec4e2-p191">Olhando o rastreamento quando? Tente usar filtros para orientar você mesmo. No Netmon, execute uma pesquisa com base na URL de, tais como `Containsbin(framedata, ascii, "sphybridExample")`, anote o número do quadro.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p191">Looking at the trace second-hand? Try using filters to orient yourself. In Netmon, run a search based on the URL, such as  `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span> 

<span data-ttu-id="ec4e2-p192">Em Wireshark usar algo como `frame contains "sphybridExample"`. Se você observar que você encontrou o tráfego remoto Winsock (RWS) (ele pode ser exibido como um [PSH, confirmação] em Wireshark), lembre-se de que se conecta RWS podem ser vistos em breve antes relevante SYN - SYN ACKs, conforme discutido anteriormente.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p192">In Wireshark use something like  `frame contains "sphybridExample"`. If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span> 

<span data-ttu-id="ec4e2-487">Neste ponto, você pode registrar o número do quadro, descartar o filtro, clique em todo o tráfego na janela de conversas de rede na Netmon a ser analisado SYN. o mais próximo</span><span class="sxs-lookup"><span data-stu-id="ec4e2-487">At this point, you can record the frame number, drop the filter, click All Traffic in the Network Conversations window in Netmon to look at the nearest SYN.</span></span> 

<span data-ttu-id="ec4e2-488">Importante: se você não receber qualquer uma das informações de endereço IP no momento do rastreamento, localizando sua URL no rastreamento (parte do `sphybridExample-my.sharepoint.com`, por exemplo), fornecerá a você endereços IP para filtrar por.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-488">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span> 

<span data-ttu-id="ec4e2-p193">Localize a conexão no rastreamento que você está interessado em ver. Você pode fazer isso, verificando o rastreamento, filtrando por endereços IP ou selecionando IDs específicas de conversa usando a janela de conversas de rede no Netmon. Depois de localizar o pacote SYN, expanda TCP (em Netmon) ou Transmission Control Protocol (em Wireshark) no painel de detalhes do quadro. Expanda MaxSegementSize e opções de TCP. Localize o quadro de confirmação-SYN relacionado e expanda TCP opções e MaxSegmentSize. O menor dos dois valores será seu tamanho máximo de segmento. Nesta figura, posso fazer uso da coluna Netmon chamado solucionar TCP interna.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p193">Locate the connection in the trace that you're interested in seeing. You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel. Expand TCP Options and MaxSegementSize. Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize. The smaller of the two values will be your Maximum Segment Size. In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>  

![Rastreamento de rede filtrado no Netmon usando as colunas internas.](media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="ec4e2-p194">A coluna interna está na parte superior do painel de **Detalhes do quadro** . (Para voltar para o modo de exibição normal, clique em colunas novamente e, em seguida, escolha o fuso horário).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p194">The built-in column is at the top of the **Frame Details** panel. (To switch back to your normal view, click Columns again, and then choose Time Zone.)</span></span> 

<span data-ttu-id="ec4e2-499">![Onde encontrar a lista suspensa Colunas para a opção Solução de Problemas de TCP (na parte superior do Resumo do Quadro).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span><span class="sxs-lookup"><span data-stu-id="ec4e2-499">![Where to find the Columns drop down for the TCP Troubleshoot option (on top of the Frame Summary).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span></span>  
<span data-ttu-id="ec4e2-p195">Aqui está um rastreamento filtrado em Wireshark. Há um filtro específico para o valor de MSS ( `tcp.options.mss`). Os quadros de um SYN, SYN/confirmação, handshake de confirmação estão vinculados na parte inferior do Wireshark equivalente a detalhes do quadro (portanto enquadrar 47 confirmação, links para 46 SYN/confirmação, links para SYN 43) para facilitar a esse tipo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p195">Here's a filtered trace in Wireshark. There is a filter specific to the MSS value ( `tcp.options.mss`). The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span> 

![Rastreamento filtrado no Wireshark por tcp.options.mss Max Segment Size (MSS).](media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)         
<span data-ttu-id="ec4e2-504">Se você precisar verificar confirmação seletiva (próximo tópico nesta matriz), não feche o seu rastreamento!</span><span class="sxs-lookup"><span data-stu-id="ec4e2-504">If you need to check Selective Acknowledgment (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="ec4e2-505">Confirmação seletiva</span><span class="sxs-lookup"><span data-stu-id="ec4e2-505">Selective Acknowledgment</span></span>

<span data-ttu-id="ec4e2-p196">Encontrado no SYN - SYN/ACK. deve ser relatados como permitido em SYN e SYN/ACK. seletiva confirmação SACK () permite mais suave retransmissão de dados quando um pacote ou pacotes vá ausentes. Dispositivos podem desabilitar esse recurso, o que pode resultar em problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p196">Found in the SYN - SYN/ACK. Must be reported as Permitted in both SYN and SYN/ACK. Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing. Devices can disable this feature, which can lead to performance problems.</span></span> 

<span data-ttu-id="ec4e2-p197">Se você estiver atrás de um proxy ou você estiver usando NAT, lembre-se de executar esse teste do cliente para o proxy/saída/NAT e do proxy/saída/NAT para o Office 365 para obter os melhores resultados! Estas são as sessões TCP diferentes.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p197">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="ec4e2-512">Ferramenta:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-512">Tool:</span></span> 

<span data-ttu-id="ec4e2-513">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-513">Netmon</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-514">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-514">What to look for:</span></span>

<span data-ttu-id="ec4e2-p198">Confirmação seletiva (SACK) é outro parâmetro o handshake de confirmação-de SYN de SYN. Você pode filtrar seu rastreamento SYN - SYN/confirmação de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p198">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake. You can filter your trace for SYN - SYN/ACK many ways.</span></span> 

<span data-ttu-id="ec4e2-p199">Localize a conexão no rastreamento que você está interessado em ver tanto examinando o rastreamento, a filtragem de endereços IP, ou clicando em uma ID de conversa usando a janela de conversas de rede no Netmon. Depois de localizar o pacote SYN, expanda TCP em Netmon ou Transmission Control Protocol em Wireshark na seção detalhes do quadro. Expanda as opções de TCP e, em seguida, SACK. Localize o quadro de confirmação-SYN relacionado e expanda opções de TCP e seu campo SACK. Certifique-se de que SACK é permitido em SYN e SYN/ACK. Aqui estão os valores SACK conforme visto no Netmon e Wireshark.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p199">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section. Expand TCP Options and then SACK. Locate the related SYN-ACK frame and Expand TCP Options and its SACK field. Make certain SACK is permitted in both SYN and SYN/ACK. Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Confirmação (SACK seletiva) no Netmon como resultado de tcp.flags.syn = = 1.](media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)           <br/> ![SACK como visto no Wireshark com o filtro tcp.flags.syn == 1.](media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)        

### <a name="dns-geolocation"></a><span data-ttu-id="ec4e2-525">Localização geográfica do DNS</span><span class="sxs-lookup"><span data-stu-id="ec4e2-525">DNS Geolocation</span></span> 

<span data-ttu-id="ec4e2-526">Onde no mundo do Office 365 tenta resolver seu DNS chamada efeitos sua velocidade de conexão.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-526">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span> 

<span data-ttu-id="ec4e2-p200">No Outlook Online, uma vez concluída a pesquisa de DNS primeira, o local do DNS será usado para se conectar ao seu datacenter mais próximo. Você será conectado a um servidor CAS Online do Outlook, que usará a rede de backbone para se conectar com o datacenter (dC) onde seus dados estão armazenados. Isso é mais rápido.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p200">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter. You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored. This is faster.</span></span>

<span data-ttu-id="ec4e2-530">Quando acessar o SharePoint Online, um usuário viajando para o exterior será direcionado para os seu datacenter ativo – o que é o controlador de domínio cujo local baseia-se no seu locatário SPO da base de home (isso, um controlador de domínio nos EUA se o usuário se baseados nos EUA).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-530">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>  <br/>  <span data-ttu-id="ec4e2-p201">Lync online tem nós ativos em mais de um controlador de domínio ao mesmo tempo. Quando as solicitações são enviadas para o Lync online instâncias, Microsoft DNS será determinar o local do mundo a solicitação de origem e retornar endereços IP do dC regional mais próximo onde o Lync online está ativo.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p201">Lync online has active nodes in more than one dC at a time. When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span> 

> [!TIP]
> <span data-ttu-id="ec4e2-p202">Precisa saber mais sobre como os clientes se conectam ao Office 365? Dê uma olhada o artigo de referência de [Conectividade do cliente](https://technet.microsoft.com/en-us/library/dn741250.aspx) (e seus gráficos úteis).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p202">Need to know more about how clients connect to Office 365? Take a look at the [Client Connectivity](https://technet.microsoft.com/en-us/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>           
#### <a name="tools"></a><span data-ttu-id="ec4e2-535">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-535">Tools:</span></span>

- <span data-ttu-id="ec4e2-536">Ping</span><span class="sxs-lookup"><span data-stu-id="ec4e2-536">Ping</span></span>
- <span data-ttu-id="ec4e2-537">PsPing</span><span class="sxs-lookup"><span data-stu-id="ec4e2-537">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="ec4e2-538">O que procurar:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-538">What to look for:</span></span>

<span data-ttu-id="ec4e2-p203">Solicitações de resolução de nomes de servidores DNS do cliente para os servidores DNS da Microsoft devem na maioria dos resultados de casos no DNS da Microsoft retornando o endereço IP de um datacenter regional (dC). O que isso significa para você? Se sua sede está em Bangalore, Índia, mas você estiver viajando nos Estados Unidos, quando o navegador faz uma solicitação para o Outlook Online, os servidores DNS da Microsoft devem informar você endereços IP em centros de dados nos Estados Unidos – um datacenter regional. Se houver necessidade de email do Outlook, esses dados serão viajam entre a rede de backbone rápida da Microsoft entre os datacenters.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p203">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC). What does this mean for you? If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter. If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="ec4e2-p204">DNS funciona mais rápido quando a resolução de nome é feita mais próximo possível o local do usuário. Se você estiver na Europa, que você deseja ir para um DNS da Microsoft na Europa e (idealmente) lidar com um datacenter na Europa. Desempenho de um cliente na Europa pretende DNS e um datacenter na América do Norte será mais lento.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p204">DNS works fastest when name resolution is done as close to the user location as possible. If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe. Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="ec4e2-p205">Execute a ferramenta de Ping contra outlook.office365.com para determinar onde no mundo sua solicitação DNS está sendo roteada. Se você estiver na Europa, você deverá ver uma resposta de algo como emeawest.office365.com do outlook. Nas Américas, esperam parecido com namnorthwest.office365.com do outlook.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p205">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed. If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com. In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span> 

<span data-ttu-id="ec4e2-p206">Abra o prompt de comando no computador cliente (via iniciar \> executar \> cmd ou tecla Windows \> digite cmd). Digite ping outlook.office365.com e pressione ENTER. Lembre-se, para especificar -4, se você deseja especificar para fazer o ping via IPv4. Você pode falhar obter uma resposta dos pacotes ICMP, mas você deve ver o nome do DNS para o qual a solicitação foi roteada. Se você quiser ver os números de latência para essa conexão tente PsPing o endereço IP do servidor que é retornado pelo ping.</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p206">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd). Type ping outlook.office365.com and press ENTER. Remember, to specify -4 if you want to specify to ping via IPv4. You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed. If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>  

![Ping de outlook.office365.com mostrando a resolução em outlook-namnorthwest.](media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)           
![PSPing para o endereço IP retornado pelo ping para outlook.office365.com mostrando a latência média de 28 milissegundo.](media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)           
### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="ec4e2-556">Solução de problemas de aplicativos do Office 365</span><span class="sxs-lookup"><span data-stu-id="ec4e2-556">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="ec4e2-557">Ferramentas:</span><span class="sxs-lookup"><span data-stu-id="ec4e2-557">Tools:</span></span> 

- <span data-ttu-id="ec4e2-558">Netmon</span><span class="sxs-lookup"><span data-stu-id="ec4e2-558">Netmon</span></span>
- <span data-ttu-id="ec4e2-559">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="ec4e2-559">HTTPWatch</span></span>
- <span data-ttu-id="ec4e2-560">Console de F12 no navegador</span><span class="sxs-lookup"><span data-stu-id="ec4e2-560">F12 Console in the browser</span></span>

<span data-ttu-id="ec4e2-p207">Não abordamos ferramentas usadas na solução de problemas de aplicativo específico neste artigo específicos de rede. Você encontrará recursos, mas você *pode* usar [nesta página](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span><span class="sxs-lookup"><span data-stu-id="ec4e2-p207">We don't cover tools used in application-specific troubleshooting in this network-specific article. But you'll find resources you  *can*  use [on this page](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>
   
## <a name="related-topics"></a><span data-ttu-id="ec4e2-563">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ec4e2-563">Related Topics</span></span>

[<span data-ttu-id="ec4e2-564">Gerenciar pontos de extremidade do Office 365</span><span class="sxs-lookup"><span data-stu-id="ec4e2-564">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)
  
[<span data-ttu-id="ec4e2-565">Perguntas frequentes sobre pontos de extremidade do Office 365</span><span class="sxs-lookup"><span data-stu-id="ec4e2-565">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
  

